<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>SONIC SQL ‚Äî Mastery Path</title><link rel="preconnect" href="https://fonts.googleapis.com"><link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet"><link rel="stylesheet" href="styles.css"></head><body><div class="ambient"><div class="ambient-orb orb-1"></div><div class="ambient-orb orb-2"></div><div class="ambient-orb orb-3"></div></div><main class="main"><div class="content"><div class="topbar"><div class="topbar-left"><span class="topbar-meta">SONIC SQL training platform</span><span class="kpi-pill">15 dedicated lesson pages</span></div><div class="topbar-actions"><a class="nav-btn" href="lesson-d01.html">Start from Day 1</a><a class="nav-btn" href="lesson-d15.html">Jump to Final Test</a></div></div><section class="hero" id="hero"><div class="hero-pill"><span class="hero-pill-dot"></span> SONICMansourDataNew ¬∑ Guided reporting curriculum</div><h1>Master SONIC reporting workflows with <em>structured SQL training</em></h1><p class="hero-lead">A production-focused learning platform for your SONIC database: 15 guided modules covering join logic, schema mapping, reporting patterns, and debugging workflows used in daily operations.</p></section><section class="phase-block" style="display:block"><div class="sec-label">Phase 1 ¬∑ JOIN Foundations</div><div class="roadmap-grid"><a class="lesson-link" href="lesson-d01.html"><div class="lesson-meta"><span>Phase 1 ¬∑ JOIN Foundations</span><span>~1.5 hrs</span></div><h4>D01 ¬∑ Why Tables Are Split Apart ‚Äî The Mental Model</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d02.html"><div class="lesson-meta"><span>Phase 1 ¬∑ JOIN Foundations</span><span>~2 hrs</span></div><h4>D02 ¬∑ INNER vs LEFT JOIN ‚Äî The Most Important Decision You'll Make</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d03.html"><div class="lesson-meta"><span>Phase 1 ¬∑ JOIN Foundations</span><span>~1.5 hrs</span></div><h4>D03 ¬∑ Composite Keys ‚Äî When One Column Isn't Enough</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d04.html"><div class="lesson-meta"><span>Phase 1 ¬∑ JOIN Foundations</span><span>~2 hrs</span></div><h4>D04 ¬∑ JOIN Chains ‚Äî Connecting Three or More Tables</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a></div></section><section class="phase-block" style="display:block"><div class="sec-label">Phase 2 ¬∑ Schema Mastery</div><div class="roadmap-grid"><a class="lesson-link" href="lesson-d05.html"><div class="lesson-meta"><span>Phase 2 ¬∑ Schema Mastery</span><span>~1.5 hrs</span></div><h4>D05 ¬∑ The 5 Golden Rules ‚Äî Memorise Once, Use Forever</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d06.html"><div class="lesson-meta"><span>Phase 2 ¬∑ Schema Mastery</span><span>~2.5 hrs</span></div><h4>D06 ¬∑ Customer &amp; Outlet ‚Äî The Heart of the Database</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d07.html"><div class="lesson-meta"><span>Phase 2 ¬∑ Schema Mastery</span><span>~2 hrs</span></div><h4>D07 ¬∑ Routes, Territory &amp; the Daily Record</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d08.html"><div class="lesson-meta"><span>Phase 2 ¬∑ Schema Mastery</span><span>~2.5 hrs</span></div><h4>D08 ¬∑ Transactions &amp; Products ‚Äî The Invoice System</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a></div></section><section class="phase-block" style="display:block"><div class="sec-label">Phase 3 ¬∑ Real Reporting</div><div class="roadmap-grid"><a class="lesson-link" href="lesson-d09.html"><div class="lesson-meta"><span>Phase 3 ¬∑ Real Reporting</span><span>~1.5 hrs</span></div><h4>D09 ¬∑ The 4-Step Method ‚Äî Your Query-Writing System</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d10.html"><div class="lesson-meta"><span>Phase 3 ¬∑ Real Reporting</span><span>~3 hrs</span></div><h4>D10 ¬∑ Build the Customer Master Report ‚Äî Part 1 (Cols 1‚Äì15)</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d11.html"><div class="lesson-meta"><span>Phase 3 ¬∑ Real Reporting</span><span>~3 hrs</span></div><h4>D11 ¬∑ Customer Master Report ‚Äî Part 2 (Geography + Bilingual)</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d12.html"><div class="lesson-meta"><span>Phase 3 ¬∑ Real Reporting</span><span>~2.5 hrs</span></div><h4>D12 ¬∑ Build the Daily Visits Report</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d13.html"><div class="lesson-meta"><span>Phase 3 ¬∑ Real Reporting</span><span>~2 hrs</span></div><h4>D13 ¬∑ Debugging ‚Äî What to Do When Things Go Wrong</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a></div></section><section class="phase-block" style="display:block"><div class="sec-label">Phase 4 ¬∑ Full Mastery</div><div class="roadmap-grid"><a class="lesson-link" href="lesson-d14.html"><div class="lesson-meta"><span>Phase 4 ¬∑ Full Mastery</span><span>~2.5 hrs</span></div><h4>D14 ¬∑ GROUP BY, Aggregates &amp; Optional Parameters</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d15.html"><div class="lesson-meta"><span>Phase 4 ¬∑ Full Mastery</span><span>~3 hrs</span></div><h4>D15 ¬∑ The Final Test ‚Äî Three Reports With Zero Help</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a></div></section><footer class="site-footer">SONIC SQL Training Platform ¬∑ Operational Reporting Curriculum</footer></div></main></body></html>
<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>SONIC SQL ‚Äî Mastery Path</title><link rel="preconnect" href="https://fonts.googleapis.com"><link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet"><link rel="stylesheet" href="styles.css"></head><body><div class="ambient"><div class="ambient-orb orb-1"></div><div class="ambient-orb orb-2"></div><div class="ambient-orb orb-3"></div></div><main class="main"><div class="content"><div class="topbar"><div class="topbar-left"><span class="topbar-meta">Production-ready roadmap</span><span class="kpi-pill">15 dedicated lesson pages</span></div><div class="topbar-actions"><a class="nav-btn" href="lesson-d01.html">Start from Day 1</a><a class="nav-btn" href="lesson-d15.html">Jump to Final Test</a></div></div><section class="hero" id="hero"><div class="hero-pill"><span class="hero-pill-dot"></span> SONICMansourDataNew ¬∑ Full lesson mode</div><h1>Learn SQL in <em>full-page lessons</em><br>not tiny dropdowns</h1><p class="hero-lead">Each day now opens as its own focused page so you can read, practice, and copy SQL without accordion friction.</p></section><section class="phase-block" style="display:block"><div class="sec-label">Phase 1 ¬∑ JOIN Foundations</div><div class="roadmap-grid"><a class="lesson-link" href="lesson-d01.html"><div class="lesson-meta"><span>Phase 1 ¬∑ JOIN Foundations</span><span>~1.5 hrs</span></div><h4>D01 ¬∑ Why Tables Are Split Apart ‚Äî The Mental Model</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d02.html"><div class="lesson-meta"><span>Phase 1 ¬∑ JOIN Foundations</span><span>~2 hrs</span></div><h4>D02 ¬∑ INNER vs LEFT JOIN ‚Äî The Most Important Decision You'll Make</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d03.html"><div class="lesson-meta"><span>Phase 1 ¬∑ JOIN Foundations</span><span>~1.5 hrs</span></div><h4>D03 ¬∑ Composite Keys ‚Äî When One Column Isn't Enough</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d04.html"><div class="lesson-meta"><span>Phase 1 ¬∑ JOIN Foundations</span><span>~2 hrs</span></div><h4>D04 ¬∑ JOIN Chains ‚Äî Connecting Three or More Tables</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a></div></section><section class="phase-block" style="display:block"><div class="sec-label">Phase 2 ¬∑ Schema Mastery</div><div class="roadmap-grid"><a class="lesson-link" href="lesson-d05.html"><div class="lesson-meta"><span>Phase 2 ¬∑ Schema Mastery</span><span>~1.5 hrs</span></div><h4>D05 ¬∑ The 5 Golden Rules ‚Äî Memorise Once, Use Forever</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d06.html"><div class="lesson-meta"><span>Phase 2 ¬∑ Schema Mastery</span><span>~2.5 hrs</span></div><h4>D06 ¬∑ Customer &amp; Outlet ‚Äî The Heart of the Database</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d07.html"><div class="lesson-meta"><span>Phase 2 ¬∑ Schema Mastery</span><span>~2 hrs</span></div><h4>D07 ¬∑ Routes, Territory &amp; the Daily Record</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d08.html"><div class="lesson-meta"><span>Phase 2 ¬∑ Schema Mastery</span><span>~2.5 hrs</span></div><h4>D08 ¬∑ Transactions &amp; Products ‚Äî The Invoice System</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a></div></section><section class="phase-block" style="display:block"><div class="sec-label">Phase 3 ¬∑ Real Reporting</div><div class="roadmap-grid"><a class="lesson-link" href="lesson-d09.html"><div class="lesson-meta"><span>Phase 3 ¬∑ Real Reporting</span><span>~1.5 hrs</span></div><h4>D09 ¬∑ The 4-Step Method ‚Äî Your Query-Writing System</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d10.html"><div class="lesson-meta"><span>Phase 3 ¬∑ Real Reporting</span><span>~3 hrs</span></div><h4>D10 ¬∑ Build the Customer Master Report ‚Äî Part 1 (Cols 1‚Äì15)</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d11.html"><div class="lesson-meta"><span>Phase 3 ¬∑ Real Reporting</span><span>~3 hrs</span></div><h4>D11 ¬∑ Customer Master Report ‚Äî Part 2 (Geography + Bilingual)</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d12.html"><div class="lesson-meta"><span>Phase 3 ¬∑ Real Reporting</span><span>~2.5 hrs</span></div><h4>D12 ¬∑ Build the Daily Visits Report</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d13.html"><div class="lesson-meta"><span>Phase 3 ¬∑ Real Reporting</span><span>~2 hrs</span></div><h4>D13 ¬∑ Debugging ‚Äî What to Do When Things Go Wrong</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a></div></section><section class="phase-block" style="display:block"><div class="sec-label">Phase 4 ¬∑ Full Mastery</div><div class="roadmap-grid"><a class="lesson-link" href="lesson-d14.html"><div class="lesson-meta"><span>Phase 4 ¬∑ Full Mastery</span><span>~2.5 hrs</span></div><h4>D14 ¬∑ GROUP BY, Aggregates &amp; Optional Parameters</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a><a class="lesson-link" href="lesson-d15.html"><div class="lesson-meta"><span>Phase 4 ¬∑ Full Mastery</span><span>~3 hrs</span></div><h4>D15 ¬∑ The Final Test ‚Äî Three Reports With Zero Help</h4><p>Open full lesson view with complete examples, exercises, and SQL snippets.</p></a></div></section><footer class="site-footer">SONIC SQL Mastery Path ¬∑ Multi-page experience</footer></div></main></body></html>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SONIC SQL Training Platform</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="platform-page">
  <div class="ambient"><div class="ambient-orb orb-1"></div><div class="ambient-orb orb-2"></div><div class="ambient-orb orb-3"></div></div>
  <main class="main">
    <div class="content platform-shell">
      <header class="platform-hero">
        <div>
          <p class="hero-kicker">SONICMansourDataNew ¬∑ Operational SQL Enablement</p>
          <h1>Production SQL training built for <em>real SONIC reporting work</em></h1>
          <p class="hero-lead">A complete operator curriculum with guided lessons, progress tracking, bookmarks, and practical report-building outcomes.</p>
        </div>
        <div class="hero-actions">
          <a class="nav-btn primary" href="lesson-d01.html">Start Program</a>
          <a class="nav-btn" href="lesson-d15.html">Go to Final Assessment</a>
        </div>
      </header>

      <section class="kpi-grid" id="kpiGrid">
        <article class="kpi-card"><span>Lessons</span><strong id="kpiLessons">15</strong></article>
        <article class="kpi-card"><span>Completed</span><strong id="kpiDone">0</strong></article>
        <article class="kpi-card"><span>Bookmarks</span><strong id="kpiBookmarks">0</strong></article>
        <article class="kpi-card"><span>Program Progress</span><strong id="kpiProgress">0%</strong></article>
      </section>

      <section class="control-bar">
        <label class="search-wrap wide">
          <span>‚åï</span>
          <input id="searchInput" type="search" placeholder="Search by topic, concept, or day (example: joins, territory, debugging)" />
        </label>
        <select id="phaseFilter" class="phase-filter">
          <option value="all">All phases</option>
          <option value="1">Phase 1 ¬∑ JOIN Foundations</option>
          <option value="2">Phase 2 ¬∑ Schema Mastery</option>
          <option value="3">Phase 3 ¬∑ Reporting Execution</option>
          <option value="4">Phase 4 ¬∑ Mastery & Assessment</option>
        </select>
        <select id="sortFilter" class="phase-filter">
          <option value="day">Sort by day</option>
          <option value="duration">Sort by duration</option>
          <option value="title">Sort by title</option>
        </select>
        <button class="cta-btn" id="resetFilters">Reset</button>
      </section>

      <section class="phase-summary-grid">
        <article class="phase-summary"><h3>Phase 1</h3><h4>JOIN Foundations</h4><p>Build strong relational thinking and join accuracy.</p></article><article class="phase-summary"><h3>Phase 2</h3><h4>Schema Mastery</h4><p>Understand SONIC entities, paths, and constraints.</p></article><article class="phase-summary"><h3>Phase 3</h3><h4>Reporting Execution</h4><p>Ship production-grade reports and debug issues fast.</p></article><article class="phase-summary"><h3>Phase 4</h3><h4>Mastery & Assessment</h4><p>Aggregate, parameterize, and validate independently.</p></article>
      </section>

      <section>
        <div class="sec-label">Lesson Library</div>
        <div class="lesson-library" id="lessonLibrary"></div>
      </section>

      <footer class="site-footer">SONIC SQL Training Platform ¬∑ Built for operational analytics teams</footer>
    </div>
  </main>
  <script src="data.js"></script>
  <script src="scripts.js"></script>
</head>
<body class="platform-page">
  <div class="ambient"><div class="ambient-orb orb-1"></div><div class="ambient-orb orb-2"></div><div class="ambient-orb orb-3"></div></div>
  <main class="main">
    <div class="content platform-shell">
      <header class="platform-hero">
        <div>
          <p class="hero-kicker">SONICMansourDataNew ¬∑ Operational SQL Enablement</p>
          <h1>Production SQL training built for <em>real SONIC reporting work</em></h1>
          <p class="hero-lead">A complete operator curriculum with guided lessons, progress tracking, bookmarks, and practical report-building outcomes.</p>
        </div>
        <div class="hero-actions">
          <a class="nav-btn primary" href="lesson-d01.html">Start Program</a>
          <a class="nav-btn" href="lesson-d15.html">Go to Final Assessment</a>
        </div>
      </header>

      <section class="kpi-grid" id="kpiGrid">
        <article class="kpi-card"><span>Lessons</span><strong id="kpiLessons">15</strong></article>
        <article class="kpi-card"><span>Completed</span><strong id="kpiDone">0</strong></article>
        <article class="kpi-card"><span>Bookmarks</span><strong id="kpiBookmarks">0</strong></article>
        <article class="kpi-card"><span>Program Progress</span><strong id="kpiProgress">0%</strong></article>
      </section>

      <section class="control-bar">
        <label class="search-wrap wide">
          <span>‚åï</span>
          <input id="searchInput" type="search" placeholder="Search by topic, concept, or day (example: joins, territory, debugging)" />
        </label>
        <select id="phaseFilter" class="phase-filter">
          <option value="all">All phases</option>
          <option value="1">Phase 1 ¬∑ JOIN Foundations</option>
          <option value="2">Phase 2 ¬∑ Schema Mastery</option>
          <option value="3">Phase 3 ¬∑ Reporting Execution</option>
          <option value="4">Phase 4 ¬∑ Mastery & Assessment</option>
        </select>
        <select id="sortFilter" class="phase-filter">
          <option value="day">Sort by day</option>
          <option value="duration">Sort by duration</option>
          <option value="title">Sort by title</option>
        </select>
        <button class="cta-btn" id="resetFilters">Reset</button>
      </section>

      <section class="phase-summary-grid">
        <article class="phase-summary"><h3>Phase 1</h3><h4>JOIN Foundations</h4><p>Build strong relational thinking and join accuracy.</p></article><article class="phase-summary"><h3>Phase 2</h3><h4>Schema Mastery</h4><p>Understand SONIC entities, paths, and constraints.</p></article><article class="phase-summary"><h3>Phase 3</h3><h4>Reporting Execution</h4><p>Ship production-grade reports and debug issues fast.</p></article><article class="phase-summary"><h3>Phase 4</h3><h4>Mastery & Assessment</h4><p>Aggregate, parameterize, and validate independently.</p></article>
      </section>

      <section>
        <div class="sec-label">Lesson Library</div>
        <div class="lesson-library" id="lessonLibrary"></div>
      </section>

      <footer class="site-footer">SONIC SQL Training Platform ¬∑ Built for operational analytics teams</footer>
    </div>
  </main>
  <script src="data.js"></script>
  <script src="scripts.js"></script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SONIC SQL ‚Äî Mastery Path</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
<style>
/* =========================================================
   DESIGN TOKENS
:root {
  --bg:        #07090f;
  --bg-2:      #0c1018;
  --bg-3:      #111622;
  --surface:   #141c2a;
  --surface-2: #1a2538;
  --surface-3: #1f2d40;
  --border:    rgba(255,255,255,0.06);
  --border-2:  rgba(255,255,255,0.11);
  --border-3:  rgba(255,255,255,0.18);

  --blue:      #5b8fff;
  --blue-s:    rgba(91,143,255,0.14);
  --blue-g:    rgba(91,143,255,0.3);
  --teal:      #38d9b4;
  --teal-s:    rgba(56,217,180,0.12);
  --pink:      #f06baa;
  --pink-s:    rgba(240,107,170,0.12);
  --amber:     #f7b955;
  --amber-s:   rgba(247,185,85,0.12);
  --red:       #ff5e6d;

  --t1:  #eef2ff;
  --t2:  #8b9bb8;
  --t3:  #4e5e7a;
  --t4:  #2b3650;

  --sans: 'Plus Jakarta Sans', sans-serif;
  --mono: 'JetBrains Mono', monospace;

  --nav-w: 272px;
  --r-sm:  6px;
  --r:     10px;
  --r-lg:  16px;
  --r-xl:  22px;
}

/* =========================================================
   RESET
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{
  font-family:var(--sans);
  font-size:15px;
  line-height:1.65;
  color:var(--t1);
  background:var(--bg);
  min-height:100vh;
  overflow-x:hidden;
}
a{color:inherit;text-decoration:none}
::-webkit-scrollbar{width:4px}
::-webkit-scrollbar-track{background:var(--bg)}
::-webkit-scrollbar-thumb{background:var(--surface-3);border-radius:4px}

/* =========================================================
   AMBIENT
.ambient{position:fixed;inset:0;z-index:0;pointer-events:none;overflow:hidden}
.ambient-orb{position:absolute;border-radius:50%;filter:blur(80px)}
.orb-1{width:700px;height:700px;top:-200px;right:-150px;
  background:radial-gradient(circle,rgba(91,143,255,.055) 0%,transparent 70%)}
.orb-2{width:600px;height:600px;bottom:-100px;left:-200px;
  background:radial-gradient(circle,rgba(56,217,180,.04) 0%,transparent 70%)}
.orb-3{width:400px;height:400px;top:50%;left:50%;transform:translate(-50%,-50%);
  background:radial-gradient(circle,rgba(240,107,170,.025) 0%,transparent 70%)}

/* =========================================================
   SHELL
.shell{display:flex;min-height:100vh;position:relative;z-index:1}

/* =========================================================
   SIDEBAR
.sidebar{
  width:var(--nav-w);
  flex-shrink:0;
  position:fixed;
  top:0;left:0;
  height:100vh;
  display:flex;
  flex-direction:column;
  border-right:1px solid var(--border);
  background:rgba(7,9,15,.96);
  backdrop-filter:blur(24px);
  overflow-y:auto;
  z-index:200;
  transition:transform .3s ease;
}

/* brand */
.sb-brand{
  padding:28px 24px 22px;
  border-bottom:1px solid var(--border);
  display:flex;
  align-items:center;
  gap:12px;
}
.sb-logo{
  width:36px;height:36px;
  border-radius:var(--r-sm);
  background:var(--blue-s);
  border:1px solid var(--blue-g);
  display:flex;align-items:center;justify-content:center;
  font-size:17px;flex-shrink:0;
}
.sb-brand-text .name{
  font-weight:700;font-size:14.5px;
  letter-spacing:-0.01em;color:var(--t1);
  display:block;
}
.sb-brand-text .sub{
  font-family:var(--mono);font-size:10px;
  color:var(--t3);letter-spacing:0.04em;
  margin-top:1px;display:block;
}

/* nav sections */
.sb-section{padding:20px 14px 4px}
.sb-section-label{
  font-family:var(--mono);font-size:9.5px;font-weight:600;
  letter-spacing:.16em;text-transform:uppercase;
  color:var(--t4);padding:0 10px;margin-bottom:6px;
}

.sb-item{
  display:flex;align-items:center;gap:10px;
  width:100%;padding:8px 10px;
  border-radius:var(--r-sm);background:transparent;border:none;
  cursor:pointer;text-align:left;
  color:var(--t2);font-family:var(--sans);font-size:13px;font-weight:500;
  transition:background .15s,color .15s;
}
.sb-item:hover{background:var(--surface);color:var(--t1)}
.sb-item.active{background:var(--surface-2);color:var(--t1)}
.sb-item-dot{width:7px;height:7px;border-radius:50%;flex-shrink:0;transition:opacity .2s}

/* day links inside phase */
.sb-children{
  display:none;
  margin-left:16px;
  border-left:1px solid var(--border);
  padding-left:12px;
  margin-bottom:4px;
  margin-top:2px;
}
.sb-children.open{display:block}
.sb-child{
  display:flex;align-items:center;gap:8px;
  padding:5px 8px;
  font-family:var(--mono);font-size:11px;
  color:var(--t3);
  border-radius:var(--r-sm);
  transition:color .15s,background .15s;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.sb-child:hover{color:var(--t2);background:var(--surface)}
.sb-child.lit{color:var(--blue)}

/* progress */
.sb-footer{
  margin-top:auto;
  padding:16px 20px;
  border-top:1px solid var(--border);
}
.sb-prog-label{
  display:flex;justify-content:space-between;
  font-family:var(--mono);font-size:10px;
  color:var(--t3);margin-bottom:8px;
}
.sb-prog-track{height:3px;background:var(--surface-3);border-radius:99px;overflow:hidden}
.sb-prog-fill{
  height:100%;border-radius:99px;width:0%;
  background:linear-gradient(90deg,var(--blue),var(--teal));
  transition:width .5s ease;
}

/* =========================================================
   MAIN CONTENT
.main{margin-left:var(--nav-w);flex:1;min-width:0}
.content{
  max-width:820px;
  margin:0 auto;
  padding:80px 64px 120px;
}

.topbar{
  position:sticky;
  top:0;
  z-index:150;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
  margin:0 -64px;
  padding:14px 64px;
  background:rgba(12,16,24,.88);
  backdrop-filter:blur(16px);
  border-bottom:1px solid var(--border);
}
.topbar-left{display:flex;align-items:center;gap:12px;flex-wrap:wrap}
.topbar-meta{
  font-family:var(--mono);
  font-size:10px;
  letter-spacing:.12em;
  text-transform:uppercase;
  color:var(--t3);
}
.kpi-pill{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:7px 11px;
  border-radius:999px;
  border:1px solid var(--border-2);
  background:var(--surface);
  font-family:var(--mono);
  font-size:11px;
  color:var(--t2);
}
.kpi-pill strong{color:var(--teal);font-weight:700}

.topbar-actions{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.search-wrap{
  display:flex;
  align-items:center;
  gap:8px;
  background:var(--surface);
  border:1px solid var(--border-2);
  border-radius:var(--r);
  padding:7px 10px;
  min-width:250px;
}
.search-wrap span{font-size:13px;color:var(--t3)}
.search-wrap input{
  border:none;
  outline:none;
  background:transparent;
  color:var(--t1);
  width:100%;
  font-family:var(--sans);
  font-size:13px;
}
.phase-filter{
  border:1px solid var(--border-2);
  background:var(--surface);
  color:var(--t2);
  border-radius:var(--r);
  padding:7px 10px;
  font-family:var(--mono);
  font-size:11px;
}
.cta-btn{
  padding:8px 13px;
  border-radius:var(--r-sm);
  border:1px solid var(--blue-g);
  background:var(--blue-s);
  color:var(--blue);
  font-family:var(--mono);
  font-size:11px;
  cursor:pointer;
}
.cta-btn:hover{background:rgba(91,143,255,.2)}

.day-card.is-hidden{display:none}
.phase-block.is-hidden{display:none}

/* =========================================================
   HERO
.hero{
  padding-bottom:80px;
  border-bottom:1px solid var(--border);
  margin-bottom:80px;
}
.hero-pill{
  display:inline-flex;align-items:center;gap:8px;
  font-family:var(--mono);font-size:11px;letter-spacing:.1em;text-transform:uppercase;
  color:var(--blue);margin-bottom:32px;
}
.hero-pill-dot{
  width:6px;height:6px;border-radius:50%;background:var(--blue);
  animation:blink 2s ease-in-out infinite;
}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.25}}

.hero h1{
  font-size:clamp(40px,5.5vw,64px);
  font-weight:800;line-height:1.06;
  letter-spacing:-.04em;color:var(--t1);
  margin-bottom:24px;
}
.hero h1 em{
  font-style:normal;
  background:linear-gradient(125deg,var(--blue) 0%,var(--teal) 55%,var(--teal) 100%);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
}
.hero-lead{
  font-size:17px;font-weight:300;color:var(--t2);
  max-width:560px;line-height:1.75;margin-bottom:44px;
}
.hero-chips{display:flex;flex-wrap:wrap;gap:10px}
.chip{
  display:flex;align-items:center;gap:8px;
  padding:9px 16px;
  background:var(--surface);border:1px solid var(--border-2);
  border-radius:var(--r-lg);
  font-size:13px;font-weight:500;color:var(--t2);
  transition:border-color .2s,color .2s;
}
.chip:hover{border-color:var(--border-3);color:var(--t1)}
.chip-dot{width:7px;height:7px;border-radius:50%}

/* =========================================================
   STATS
.stats-row{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:80px}
.stat{
  background:var(--surface);border:1px solid var(--border);
  border-radius:var(--r-lg);padding:32px 24px;text-align:center;
  transition:border-color .2s,transform .2s;
}
.stat:hover{border-color:var(--border-2);transform:translateY(-2px)}
.stat-n{
  font-size:40px;font-weight:800;letter-spacing:-.04em;
  color:var(--t1);display:block;line-height:1;margin-bottom:10px;
}
.stat-l{
  font-family:var(--mono);font-size:10px;font-weight:600;
  text-transform:uppercase;letter-spacing:.12em;color:var(--t3);
}

/* =========================================================
   SECTION LABELS
.sec-label{
  display:flex;align-items:center;gap:12px;
  font-family:var(--mono);font-size:9.5px;font-weight:600;
  letter-spacing:.16em;text-transform:uppercase;
  color:var(--t3);margin-bottom:18px;
}
.sec-label::after{content:'';flex:1;height:1px;background:var(--border)}
.sec-heading{
  font-size:26px;font-weight:800;letter-spacing:-.025em;
  color:var(--t1);margin-bottom:10px;
}
.sec-sub{
  font-size:14.5px;font-weight:300;color:var(--t2);
  margin-bottom:36px;line-height:1.65;
}

/* =========================================================
   DELIVERABLES
.deliverables{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:80px}
.dlv{
  background:var(--surface);border:1px solid var(--border);
  border-radius:var(--r-xl);padding:32px 28px;
  position:relative;overflow:hidden;
  transition:border-color .2s,transform .25s;
}
.dlv:hover{border-color:var(--border-2);transform:translateY(-3px)}
.dlv::after{
  content:'';position:absolute;top:0;left:0;right:0;height:2px;
}
.dlv:nth-child(1)::after{background:linear-gradient(90deg,var(--blue),transparent)}
.dlv:nth-child(2)::after{background:linear-gradient(90deg,var(--pink),transparent)}
.dlv:nth-child(3)::after{background:linear-gradient(90deg,var(--teal),transparent)}
.dlv-icon{font-size:28px;margin-bottom:18px;display:block}
.dlv-title{font-weight:700;font-size:14.5px;margin-bottom:8px;color:var(--t1)}
.dlv-desc{font-size:13px;color:var(--t2);line-height:1.6}

/* =========================================================
   JOURNEY
.journey-wrap{margin-bottom:80px}
.journey{
  background:var(--surface);border:1px solid var(--border);
  border-radius:var(--r-xl);padding:40px 36px;
  display:flex;position:relative;overflow:hidden;
}
.journey::before{
  content:'';position:absolute;top:58px;left:60px;right:60px;
  height:1px;background:var(--border-2);
}
.j-step{flex:1;text-align:center;position:relative;z-index:1}
.j-dot{
  width:44px;height:44px;border-radius:50%;border:2px solid;
  background:var(--bg);display:flex;align-items:center;
  justify-content:center;font-size:18px;margin:0 auto 16px;
  transition:transform .2s,box-shadow .2s;
}
.j-step:hover .j-dot{transform:scale(1.12)}
.j-step:nth-child(1) .j-dot{border-color:var(--blue);box-shadow:0 0 0 0 rgba(91,143,255,.4)}
.j-step:nth-child(2) .j-dot{border-color:var(--pink);box-shadow:0 0 0 0 rgba(240,107,170,.4)}
.j-step:nth-child(3) .j-dot{border-color:var(--teal);box-shadow:0 0 0 0 rgba(56,217,180,.4)}
.j-step:nth-child(4) .j-dot{border-color:var(--amber);box-shadow:0 0 0 0 rgba(247,185,85,.4)}
.j-step:hover .j-dot{box-shadow:0 0 0 8px rgba(91,143,255,.08)}
.j-phase{font-family:var(--mono);font-size:9.5px;color:var(--t3);
  text-transform:uppercase;letter-spacing:.1em;margin-bottom:4px}
.j-name{font-size:13px;font-weight:600;color:var(--t2)}

/* =========================================================
   PHASE ACCORDION
.phase-block{margin-bottom:64px;scroll-margin-top:40px}

.phase-bar{
  display:flex;align-items:center;gap:16px;
  padding:22px 26px;
  background:var(--surface);border:1px solid var(--border);
  border-radius:var(--r-lg);cursor:pointer;user-select:none;
  transition:border-color .2s,background .2s;
  margin-bottom:0;
}
.phase-bar:hover{border-color:var(--border-2)}
.phase-bar[open]{
  border-bottom-left-radius:0;border-bottom-right-radius:0;
  border-bottom-color:transparent;
}
.phase-bar[open] .phase-chev{transform:rotate(180deg)}

.phase-ico{
  width:46px;height:46px;border-radius:var(--r);
  display:flex;align-items:center;justify-content:center;
  font-size:20px;flex-shrink:0;border:1px solid;
}
.ph1 .phase-ico{background:var(--blue-s);border-color:var(--blue-g)}
.ph2 .phase-ico{background:var(--pink-s);border-color:rgba(240,107,170,.28)}
.ph3 .phase-ico{background:var(--teal-s);border-color:rgba(56,217,180,.25)}
.ph4 .phase-ico{background:var(--amber-s);border-color:rgba(247,185,85,.28)}

.phase-meta{flex:1;min-width:0}
.phase-title{font-size:16.5px;font-weight:700;letter-spacing:-.015em;color:var(--t1);margin-bottom:3px}
.phase-sub{font-size:13px;color:var(--t2);font-weight:300}

.phase-tag{
  font-family:var(--mono);font-size:10.5px;
  padding:5px 13px;border-radius:99px;
  flex-shrink:0;border:1px solid;white-space:nowrap;
}
.ph1 .phase-tag{background:var(--blue-s);color:var(--blue);border-color:var(--blue-g)}
.ph2 .phase-tag{background:var(--pink-s);color:var(--pink);border-color:rgba(240,107,170,.3)}
.ph3 .phase-tag{background:var(--teal-s);color:var(--teal);border-color:rgba(56,217,180,.28)}
.ph4 .phase-tag{background:var(--amber-s);color:var(--amber);border-color:rgba(247,185,85,.3)}

.phase-chev{
  color:var(--t3);font-size:18px;flex-shrink:0;
  transition:transform .3s ease;
}

.phase-body{
  display:none;
  border:1px solid var(--border);border-top:none;
  border-radius:0 0 var(--r-lg) var(--r-lg);
  overflow:hidden;
}
.phase-body.open{display:block}

/* =========================================================
   DAY CARDS
.day-card{border-bottom:1px solid var(--border)}
.day-card:last-child{border-bottom:none}

.day-hd{
  display:flex;align-items:center;gap:18px;
  padding:22px 28px;
  background:var(--surface);cursor:pointer;
  transition:background .15s;
}
.day-hd:hover{background:var(--surface-2)}

.day-pill{
  font-family:var(--mono);font-size:10px;font-weight:700;
  padding:5px 11px;border-radius:var(--r-sm);
  border:1px solid;flex-shrink:0;letter-spacing:.03em;
}
.ph1 .day-pill{background:var(--blue-s);color:var(--blue);border-color:var(--blue-g)}
.ph2 .day-pill{background:var(--pink-s);color:var(--pink);border-color:rgba(240,107,170,.25)}
.ph3 .day-pill{background:var(--teal-s);color:var(--teal);border-color:rgba(56,217,180,.22)}
.ph4 .day-pill{background:var(--amber-s);color:var(--amber);border-color:rgba(247,185,85,.25)}

.day-ttl{flex:1;font-size:14.5px;font-weight:500;color:var(--t1)}
.day-dur{font-family:var(--mono);font-size:11px;color:var(--t3);flex-shrink:0}
.day-tog{
  width:26px;height:26px;border-radius:50%;
  background:var(--surface-3);display:flex;align-items:center;
  justify-content:center;font-size:13px;color:var(--t3);flex-shrink:0;
  transition:background .15s,transform .3s;
}
.day-card.open .day-tog{transform:rotate(180deg)}
.day-card.open .day-hd{background:var(--surface-2)}

.day-body{
  display:none;
  padding:40px 36px 44px;
  background:var(--bg-2);
  border-top:1px solid var(--border);
}
.day-card.open .day-body{display:block}

/* =========================================================
   CONTENT PIECES

/* Goal banner */
.goal{
  display:flex;gap:14px;align-items:flex-start;
  background:var(--blue-s);border:1px solid var(--blue-g);
  border-radius:var(--r);padding:18px 22px;margin-bottom:36px;
}
.goal-tag{
  font-family:var(--mono);font-size:9px;font-weight:700;
  letter-spacing:.15em;text-transform:uppercase;
  color:var(--blue);white-space:nowrap;padding-top:3px;
}
.goal-txt{font-size:14px;color:var(--t2);line-height:1.6}

/* Analogy */
.analogy{
  display:flex;gap:18px;
  background:var(--surface);border:1px solid var(--border);
  border-left:3px solid var(--amber);
  border-radius:0 var(--r) var(--r) 0;
  padding:22px 22px 22px 22px;margin-bottom:28px;
}
.analogy-ico{font-size:24px;flex-shrink:0;padding-top:2px}
.analogy-lbl{
  font-family:var(--mono);font-size:9.5px;font-weight:600;
  text-transform:uppercase;letter-spacing:.12em;color:var(--amber);margin-bottom:7px;
}
.analogy p{font-size:14px;color:var(--t2);line-height:1.7}
.analogy strong{color:var(--t1);font-weight:600}

/* Section heading */
.c-hd{
  font-family:var(--mono);font-size:9.5px;font-weight:600;
  text-transform:uppercase;letter-spacing:.14em;color:var(--t3);
  padding-bottom:10px;border-bottom:1px solid var(--border);
  margin-bottom:16px;
}

/* Bullet list */
.c-list{list-style:none;display:flex;flex-direction:column;gap:10px;margin-bottom:28px}
.c-list li{
  display:flex;align-items:flex-start;gap:12px;
  font-size:14px;color:var(--t2);line-height:1.6;
}
.c-list li::before{
  content:'‚Ä∫';font-family:var(--mono);font-size:15px;
  color:var(--blue);flex-shrink:0;margin-top:1px;
}
.c-list strong{color:var(--t1);font-weight:600}
.c-list code,.c-list em{
  font-family:var(--mono);font-size:12px;color:var(--teal);
  background:var(--teal-s);padding:2px 6px;border-radius:4px;font-style:normal;
}

/* Code block */
.code-wrap{border-radius:var(--r);overflow:hidden;border:1px solid var(--border);margin-bottom:24px}
.code-bar{
  display:flex;align-items:center;justify-content:space-between;
  padding:11px 16px;background:var(--surface-3);border-bottom:1px solid var(--border);
}
.code-lbl{font-family:var(--mono);font-size:11px;color:var(--t2)}
.copy-btn{
  font-family:var(--mono);font-size:10px;padding:4px 12px;
  border-radius:var(--r-sm);background:var(--surface-2);
  border:1px solid var(--border-2);color:var(--t3);cursor:pointer;
  transition:all .15s;letter-spacing:.04em;
}
.copy-btn:hover{background:var(--blue-s);color:var(--blue);border-color:var(--blue-g)}
.copy-btn.ok{color:var(--teal);border-color:var(--teal-s)}
pre{
  background:#050810;padding:22px 22px;
  overflow-x:auto;font-family:var(--mono);
  font-size:12.5px;line-height:1.8;
}
.kw{color:#7da8ff;font-weight:700}
.tb{color:#7dcfff}
.col{color:#5adec4}
.cm{color:#2e3d5a;font-style:italic}
.str{color:#97d580}
.num{color:#ff9b6e}
.fn{color:#c5a3ff}

/* Path chain */
.path-chain{
  display:flex;align-items:center;flex-wrap:wrap;gap:7px;
  padding:14px 18px;background:#050810;
  border:1px solid var(--border);border-radius:var(--r);margin-bottom:10px;
}
.pn{
  font-family:var(--mono);font-size:11.5px;color:var(--teal);
  background:var(--teal-s);border:1px solid rgba(56,217,180,.18);
  padding:4px 11px;border-radius:var(--r-sm);white-space:nowrap;
}
.pa{color:var(--t4);font-family:var(--mono);font-size:12px}
.pc-label{
  margin-left:auto;font-family:var(--mono);font-size:10px;
  color:var(--t3);font-style:italic;white-space:nowrap;
}

/* Exercise */
.exercise{
  background:var(--surface);border:1px solid var(--border);
  border-left:3px solid var(--pink);
  border-radius:0 var(--r) var(--r) 0;padding:22px 22px 22px 24px;margin-bottom:24px;
}
.ex-hd{
  display:flex;align-items:center;gap:8px;
  font-family:var(--mono);font-size:9.5px;font-weight:700;
  text-transform:uppercase;letter-spacing:.14em;color:var(--pink);margin-bottom:12px;
}
.exercise p{font-size:14px;color:var(--t2);line-height:1.65;margin-bottom:10px}
.exercise .hint{
  font-family:var(--mono);font-size:11.5px;
  color:var(--t3);font-style:italic;
}

/* Rules grid */
.rules-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:28px}
.rule{
  background:var(--surface);border:1px solid var(--border);
  border-radius:var(--r);padding:22px;display:flex;gap:14px;
  transition:border-color .15s;
}
.rule:hover{border-color:var(--border-2)}
.rule.full{grid-column:1/-1}
.rule-n{font-size:30px;font-weight:800;color:var(--surface-3);line-height:1;flex-shrink:0;padding-top:2px}
.rule strong{display:block;font-size:13.5px;font-weight:600;color:var(--t1);margin-bottom:5px}
.rule p{font-size:12.5px;color:var(--t2);line-height:1.6}
.rule code{font-family:var(--mono);font-size:11px;color:var(--teal);
  background:var(--teal-s);padding:1px 5px;border-radius:3px}

/* Milestone */
.milestone{
  display:flex;gap:18px;align-items:flex-start;
  padding:24px 28px;
  background:linear-gradient(135deg,rgba(91,143,255,.09),rgba(56,217,180,.07));
  border:1px solid rgba(91,143,255,.22);
  border-radius:var(--r-xl);margin-top:32px;
}
.milestone-ico{font-size:26px;flex-shrink:0;padding-top:2px}
.milestone strong{
  display:block;font-size:14.5px;font-weight:700;
  color:var(--teal);margin-bottom:6px;font-family:var(--sans);
}
.milestone p{font-size:13.5px;color:var(--t2);line-height:1.65}

/* Quick ref */
.qr-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.qr{
  background:var(--surface);border:1px solid var(--border);
  border-radius:var(--r-lg);padding:24px;
  transition:border-color .15s;
}
.qr:hover{border-color:var(--border-2)}
.qr-hd{
  display:flex;align-items:center;gap:7px;
  font-family:var(--mono);font-size:9.5px;font-weight:700;
  text-transform:uppercase;letter-spacing:.12em;
  color:var(--pink);margin-bottom:10px;
}
.qr-dot{width:5px;height:5px;border-radius:50%;background:var(--pink)}
.qr-q{font-size:13.5px;font-weight:600;color:var(--t1);margin-bottom:8px}
.qr-a{font-size:13px;color:var(--t2);line-height:1.65}
.qr-a code{font-family:var(--mono);font-size:11px;color:var(--teal);
  background:var(--teal-s);padding:1px 6px;border-radius:3px}

/* Divider */
.div{height:1px;background:var(--border);margin:80px 0}

/* Footer */
.site-footer{
  text-align:center;padding:40px 0 60px;
  border-top:1px solid var(--border);
  font-family:var(--mono);font-size:11px;color:var(--t4);letter-spacing:.05em;
}

/* =========================================================
   RESPONSIVE
@media(max-width:960px){
  .sidebar{display:none}
  .main{margin-left:0}
  .content{padding:48px 32px 80px}
  .topbar{margin:0 -32px;padding:12px 32px;align-items:flex-start;flex-direction:column}
  .topbar-actions{width:100%}
  .search-wrap{min-width:0;flex:1;width:100%}
  .stats-row{grid-template-columns:repeat(2,1fr)}
  .deliverables{grid-template-columns:1fr}
  .rules-grid,.qr-grid{grid-template-columns:1fr}
  .rule.full{grid-column:1}
  .journey{flex-direction:column;gap:28px}
  .journey::before{display:none}
}
@media(max-width:560px){
  .content{padding:32px 18px 60px}
  .topbar{margin:0 -18px;padding:10px 18px}
  .stats-row{gap:12px}
}

/* =========================================================
   FADE-IN
@keyframes fadeUp{from{opacity:0;transform:translateY(18px)}to{opacity:1;transform:translateY(0)}}
.hero{animation:fadeUp .5s ease .05s both}
.stats-row{animation:fadeUp .5s ease .15s both}
.deliverables{animation:fadeUp .5s ease .22s both}
.journey-wrap{animation:fadeUp .5s ease .28s both}
</style>
</head>
<body>

<div class="ambient">
  <div class="ambient-orb orb-1"></div>
  <div class="ambient-orb orb-2"></div>
  <div class="ambient-orb orb-3"></div>
</div>

<div class="shell">

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SIDEBAR ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<aside class="sidebar" id="sidebar">
  <div class="sb-brand">
    <div class="sb-logo">üóÑÔ∏è</div>
    <div class="sb-brand-text">
      <span class="name">SONIC SQL</span>
      <span class="sub">Mastery Path ¬∑ 15 Days</span>
    </div>
  </div>

  <div class="sb-section">
    <div class="sb-section-label">Overview</div>
    <button class="sb-item" onclick="goto('hero')">
      <span class="sb-item-dot" style="background:#5b8fff"></span> Introduction
    </button>
    <button class="sb-item" onclick="goto('deliverables')">
      <span class="sb-item-dot" style="background:#38d9b4"></span> What You'll Build
    </button>
  </div>

  <div class="sb-section">
    <div class="sb-section-label">Phases</div>

    <div>
      <button class="sb-item active" onclick="navPhase(this,'nc1')">
        <span class="sb-item-dot" style="background:#5b8fff"></span> Phase 1 ¬∑ JOINs
      </button>
      <div class="sb-children open" id="nc1">
        <a class="sb-child" href="#d01">D01 ¬∑ Mental Model</a>
        <a class="sb-child" href="#d02">D02 ¬∑ INNER vs LEFT</a>
        <a class="sb-child" href="#d03">D03 ¬∑ Composite Keys</a>
        <a class="sb-child" href="#d04">D04 ¬∑ JOIN Chains</a>
      </div>
    </div>

    <div>
      <button class="sb-item" onclick="navPhase(this,'nc2')">
        <span class="sb-item-dot" style="background:#f06baa"></span> Phase 2 ¬∑ Schema
      </button>
      <div class="sb-children" id="nc2">
        <a class="sb-child" href="#d05">D05 ¬∑ Golden Rules</a>
        <a class="sb-child" href="#d06">D06 ¬∑ Customer &amp; Outlet</a>
        <a class="sb-child" href="#d07">D07 ¬∑ Routes &amp; Territory</a>
        <a class="sb-child" href="#d08">D08 ¬∑ Transactions</a>
      </div>
    </div>

    <div>
      <button class="sb-item" onclick="navPhase(this,'nc3')">
        <span class="sb-item-dot" style="background:#38d9b4"></span> Phase 3 ¬∑ Reports
      </button>
      <div class="sb-children" id="nc3">
        <a class="sb-child" href="#d09">D09 ¬∑ 4-Step Method</a>
        <a class="sb-child" href="#d10">D10 ¬∑ Master Pt.1</a>
        <a class="sb-child" href="#d11">D11 ¬∑ Master Pt.2</a>
        <a class="sb-child" href="#d12">D12 ¬∑ Visits Report</a>
        <a class="sb-child" href="#d13">D13 ¬∑ Debugging</a>
      </div>
    </div>

    <div>
      <button class="sb-item" onclick="navPhase(this,'nc4')">
        <span class="sb-item-dot" style="background:#f7b955"></span> Phase 4 ¬∑ Mastery
      </button>
      <div class="sb-children" id="nc4">
        <a class="sb-child" href="#d14">D14 ¬∑ GROUP BY &amp; Params</a>
        <a class="sb-child" href="#d15">D15 ¬∑ Final Test</a>
      </div>
    </div>

    <button class="sb-item" onclick="goto('quickref')">
      <span class="sb-item-dot" style="background:#4e5e7a"></span> Quick Reference
    </button>
  </div>

  <div class="sb-footer">
    <div class="sb-prog-label">
      <span>Progress</span>
      <span id="progPct">0%</span>
    </div>
    <div class="sb-prog-track">
      <div class="sb-prog-fill" id="progFill"></div>
    </div>
  </div>
</aside>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MAIN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<main class="main">
<div class="content">

<div class="topbar">
  <div class="topbar-left">
    <span class="topbar-meta">Learning cockpit</span>
    <span class="kpi-pill">Opened lessons <strong id="openCount">0/15</strong></span>
  </div>
  <div class="topbar-actions">
    <label class="search-wrap">
      <span>‚åï</span>
      <input id="daySearch" type="search" placeholder="Search day title, topic, or keyword..." aria-label="Search lessons">
    </label>
    <select id="phaseFilter" class="phase-filter" aria-label="Filter by phase">
      <option value="all">All phases</option>
      <option value="ph1">Phase 1</option>
      <option value="ph2">Phase 2</option>
      <option value="ph3">Phase 3</option>
      <option value="ph4">Phase 4</option>
    </select>
    <button class="cta-btn" onclick="expandAll()">Expand all</button>
  </div>
</div>

<!-- HERO -->
<section class="hero" id="hero">
  <div class="hero-pill"><span class="hero-pill-dot"></span> SONICMansourDataNew ¬∑ Personal Roadmap</div>
  <h1>From <em>JOIN confusion</em><br>to full mastery</h1>
  <p class="hero-lead">A 3-week program built around how you actually learn ‚Äî hands-on practice with real queries from the SONIC database you'll use on the job every day.</p>
  <div class="hero-chips">
    <div class="chip"><span class="chip-dot" style="background:#5b8fff"></span> Knows SELECT / FROM / WHERE</div>
    <div class="chip"><span class="chip-dot" style="background:#f06baa"></span> Hands-on + example learner</div>
    <div class="chip"><span class="chip-dot" style="background:#38d9b4"></span> 2‚Äì3 hours per day</div>
  </div>
</section>

<!-- STATS -->
<div class="stats-row">
  <div class="stat"><span class="stat-n">3</span><span class="stat-l">Weeks</span></div>
  <div class="stat"><span class="stat-n">4</span><span class="stat-l">Phases</span></div>
  <div class="stat"><span class="stat-n">15</span><span class="stat-l">Days</span></div>
  <div class="stat"><span class="stat-n">37</span><span class="stat-l">Final Cols</span></div>
</div>

<!-- DELIVERABLES -->
<section id="deliverables" style="scroll-margin-top:40px">
  <div class="sec-label">End Goal</div>
  <div class="sec-heading">What you'll build</div>
  <p class="sec-sub">Three production reports ‚Äî written from scratch, with zero help, by Day 15.</p>
  <div class="deliverables">
    <div class="dlv">
      <span class="dlv-icon">üìã</span>
      <div class="dlv-title">Customer Master Report</div>
      <p class="dlv-desc">All 37 columns, bilingual EN + AR, every active outlet with complete geography and pricing chain.</p>
    </div>
    <div class="dlv">
      <span class="dlv-icon">üìä</span>
      <div class="dlv-title">Daily Sales Summary</div>
      <p class="dlv-desc">Revenue, invoice count, visit rate ‚Äî grouped by salesman and territory with flexible date filtering.</p>
    </div>
    <div class="dlv">
      <span class="dlv-icon">üó∫Ô∏è</span>
      <div class="dlv-title">Salesman Scorecard</div>
      <p class="dlv-desc">Planned vs actual visits, productive rate, total revenue ‚Äî the full 30-day operational picture.</p>
    </div>
  </div>
</section>

<!-- JOURNEY -->
<section class="journey-wrap">
  <div class="sec-label">The Path</div>
  <div class="sec-heading">Your 4-phase journey</div>
  <p class="sec-sub">Each phase builds directly on the previous. Don't skip ahead.</p>
  <div class="journey">
    <div class="j-step">
      <div class="j-dot">üîó</div>
      <div class="j-phase">Phase 1 ¬∑ Days 1‚Äì4</div>
      <div class="j-name">Crack JOINs</div>
    </div>
    <div class="j-step">
      <div class="j-dot">üó∫Ô∏è</div>
      <div class="j-phase">Phase 2 ¬∑ Days 5‚Äì8</div>
      <div class="j-name">Learn Schema</div>
    </div>
    <div class="j-step">
      <div class="j-dot">üèóÔ∏è</div>
      <div class="j-phase">Phase 3 ¬∑ Days 9‚Äì13</div>
      <div class="j-name">Build Reports</div>
    </div>
    <div class="j-step">
      <div class="j-dot">üèÜ</div>
      <div class="j-phase">Phase 4 ¬∑ Days 14‚Äì15</div>
      <div class="j-name">Full Mastery</div>
    </div>
  </div>
</section>

<div class="div"></div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     PHASE 1
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section id="phase1" class="phase-block ph1">
  <div class="phase-bar" open onclick="togglePhase(this)">
    <div class="phase-ico">üîó</div>
    <div class="phase-meta">
      <div class="phase-title">Phase 1 ‚Äî Crack the JOIN Problem</div>
      <div class="phase-sub">Days 1‚Äì4 ¬∑ Your only real blocker. Solve this and everything unlocks.</div>
    </div>
    <span class="phase-tag">Week 1</span>
    <span class="phase-chev">‚ñæ</span>
  </div>
  <div class="phase-body open">

    <!-- D01 -->
    <div class="day-card open" id="d01">
      <div class="day-hd" onclick="toggleDay(this)">
        <span class="day-pill">D01</span>
        <span class="day-ttl">Why Tables Are Split Apart ‚Äî The Mental Model</span>
        <span class="day-dur">~1.5 hrs</span>
        <span class="day-tog">‚ñæ</span>
      </div>
      <div class="day-body">
        <div class="goal"><span class="goal-tag">Today's Goal</span><span class="goal-txt">Understand WHY joins exist before writing a single line of code. Get the "why" and the "how" becomes obvious.</span></div>

        <div class="analogy">
          <span class="analogy-ico">üì±</span>
          <div>
            <div class="analogy-lbl">The Contacts App Analogy</div>
            <p>Your phone contacts don't store the company address inside every employee record ‚Äî they store a <strong>company ID</strong>, and the company details live separately. Databases do exactly the same. This is called <strong>normalisation</strong>. JOIN is how you reunite the pieces. It's exactly like VLOOKUP in Excel ‚Äî same idea, far more powerful.</p>
          </div>
        </div>

        <div class="c-hd">Concepts to understand</div>
        <ul class="c-list">
          <li>A database stores "Cairo" <strong>once</strong> in a City table ‚Äî not repeated in every customer row</li>
          <li>Instead, the customer row stores <em>CityID = 5</em></li>
          <li>JOIN finds the row where CityID = 5 and pulls in the city name alongside your data</li>
          <li>The <em>ON</em> clause is the match condition ‚Äî like VLOOKUP's lookup column</li>
        </ul>

        <div class="c-hd">Run these queries in order ‚Äî see the transformation</div>

        <div class="code-wrap">
          <div class="code-bar">
            <span class="code-lbl">Step 1 ‚Äî Raw IDs only. CityID is meaningless without a JOIN.</span>
            <button class="copy-btn" onclick="doCopy(this)">Copy</button>
          </div>
          <pre><span class="kw">USE</span> [SONICMansourDataNew];
<span class="kw">SELECT TOP</span> <span class="num">10</span>
    co.CustomerCode,
    co.CityID,       <span class="cm">-- Just a number ‚Äî what city IS this?</span>
    co.AreaID        <span class="cm">-- Another number ‚Äî completely meaningless alone</span>
<span class="kw">FROM</span> <span class="tb">CustomerOutlet</span> co
<span class="kw">WHERE</span> co.Inactive = <span class="num">0</span>;</pre>
        </div>

        <div class="code-wrap">
          <div class="code-bar">
            <span class="code-lbl">Step 2 ‚Äî Add a JOIN. Same data, now human-readable.</span>
            <button class="copy-btn" onclick="doCopy(this)">Copy</button>
          </div>
          <pre><span class="kw">USE</span> [SONICMansourDataNew];
<span class="kw">SELECT TOP</span> <span class="num">10</span>
    co.CustomerCode,
    co.CityID,
    ci.CityCode,
    cil.Description   <span class="kw">AS</span> CityName      <span class="cm">-- Now we see "Cairo"!</span>
<span class="kw">FROM</span> <span class="tb">CustomerOutlet</span> co
<span class="kw">LEFT JOIN</span> <span class="tb">City</span> ci
    <span class="kw">ON</span> ci.CityID = co.CityID
<span class="kw">LEFT JOIN</span> <span class="tb">CityLanguage</span> cil
    <span class="kw">ON</span> cil.CityID     = ci.CityID
    <span class="kw">AND</span> cil.LanguageID = <span class="num">1</span>              <span class="cm">-- English only ‚Äî NEVER skip this</span>
<span class="kw">WHERE</span> co.Inactive = <span class="num">0</span>;</pre>
        </div>

        <div class="c-hd">What to notice</div>
        <ul class="c-list">
          <li>Step 1 shows a raw number ‚Äî meaningless on its own</li>
          <li>Step 2 shows the city name ‚Äî only change is one JOIN added</li>
          <li>Two JOINs are needed: one for the code table, one for the translated name</li>
          <li>This exact pattern repeats for every named entity in the database</li>
        </ul>

        <div class="exercise">
          <div class="ex-hd">‚úèÔ∏è Practice</div>
          <p>Extend Step 2 to also show the <strong>Country name</strong>. Add two LEFT JOINs ‚Äî one to <em>Country</em>, one to <em>CountryLanguage</em>. Follow the identical pattern used for City.</p>
          <div class="hint">Hint: CustomerOutlet.CountryID ‚Üí Country.CountryID ‚Üí CountryLanguage (CountryID + LanguageID = 1)</div>
        </div>
      </div>
    </div>

    <!-- D02 -->
    <div class="day-card" id="d02">
      <div class="day-hd" onclick="toggleDay(this)">
        <span class="day-pill">D02</span>
        <span class="day-ttl">INNER vs LEFT JOIN ‚Äî The Most Important Decision You'll Make</span>
        <span class="day-dur">~2 hrs</span>
        <span class="day-tog">‚ñæ</span>
      </div>
      <div class="day-body">
        <div class="goal"><span class="goal-tag">Today's Goal</span><span class="goal-txt">Understand when to use INNER vs LEFT JOIN and predict the result before running the query.</span></div>

        <div class="analogy">
          <span class="analogy-ico">üéì</span>
          <div>
            <div class="analogy-lbl">The Classroom Analogy</div>
            <p>A class of 30 students. Some submitted homework, some didn't.<br>
            <strong>INNER JOIN</strong> = Only show students who submitted. Those without homework <em>disappear entirely</em>.<br>
            <strong>LEFT JOIN</strong> = Show all 30 students. Those without homework show a blank ‚Äî but they're still in the list.</p>
          </div>
        </div>

        <div class="c-hd">The rule ‚Äî memorise it</div>
        <ul class="c-list">
          <li><strong>INNER JOIN</strong> ‚Äî data MUST exist on both sides (every outlet has a parent Customer)</li>
          <li><strong>LEFT JOIN</strong> ‚Äî data MIGHT be missing (not every outlet is on a route)</li>
          <li>When uncertain: use LEFT JOIN ‚Äî it's always safer for master data and reports</li>
          <li>Symptom of wrong choice: too few rows ‚Üí find the INNER that should be LEFT</li>
        </ul>

        <div class="c-hd">See the difference ‚Äî run both, compare counts</div>

        <div class="code-wrap">
          <div class="code-bar">
            <span class="code-lbl">INNER JOIN ‚Äî only outlets that have a route assignment</span>
            <button class="copy-btn" onclick="doCopy(this)">Copy</button>
          </div>
          <pre><span class="kw">SELECT</span> <span class="fn">COUNT</span>(*) <span class="kw">AS</span> RowCount
<span class="kw">FROM</span> <span class="tb">CustomerOutlet</span> co
<span class="kw">INNER JOIN</span> <span class="tb">RouteCustomer</span> rc
    <span class="kw">ON</span> rc.CustomerID = co.CustomerID
    <span class="kw">AND</span> rc.OutletID  = co.OutletID
<span class="kw">WHERE</span> co.Inactive = <span class="num">0</span>;
<span class="cm">-- Result: 68 ‚Äî only "fully assigned" outlets survive all INNER JOINs</span></pre>
        </div>

        <div class="code-wrap">
          <div class="code-bar">
            <span class="code-lbl">LEFT JOIN ‚Äî ALL active outlets, assigned or not</span>
            <button class="copy-btn" onclick="doCopy(this)">Copy</button>
          </div>
          <pre><span class="kw">SELECT</span> <span class="fn">COUNT</span>(*) <span class="kw">AS</span> RowCount
<span class="kw">FROM</span> <span class="tb">CustomerOutlet</span> co
<span class="kw">LEFT JOIN</span> <span class="tb">RouteCustomer</span> rc
    <span class="kw">ON</span> rc.CustomerID = co.CustomerID
    <span class="kw">AND</span> rc.OutletID  = co.OutletID
<span class="kw">WHERE</span> co.Inactive = <span class="num">0</span>;
<span class="cm">-- Result: ALL outlets ‚Äî those without routes show NULL in route columns</span></pre>
        </div>

        <div class="c-hd">SONIC join reference</div>
        <ul class="c-list">
          <li><strong>INNER:</strong> CustomerOutlet ‚Üí Customer (must have a parent company)</li>
          <li><strong>LEFT:</strong> CustomerOutlet ‚Üí RouteCustomer (might not be on any route)</li>
          <li><strong>LEFT:</strong> Anything ‚Üí Language tables (translation might not exist)</li>
          <li><strong>LEFT:</strong> CustomerOutlet ‚Üí AccountCustOut (might not have an account)</li>
          <li><strong>LEFT:</strong> CustomerOutlet ‚Üí CustomerOutletGroup (might not be in a group)</li>
        </ul>

        <div class="exercise">
          <div class="ex-hd">‚úèÔ∏è Practice</div>
          <p>Run the query below with INNER JOIN ‚Äî note the count. Change every INNER to LEFT ‚Äî note the new count. Write down both numbers and explain in plain language why they're different.</p>
          <div class="code-wrap" style="margin-top:14px">
            <div class="code-bar"><span class="code-lbl">Experiment query</span><button class="copy-btn" onclick="doCopy(this)">Copy</button></div>
            <pre><span class="kw">SELECT</span> <span class="fn">COUNT</span>(*) <span class="kw">AS</span> RowCount
<span class="kw">FROM</span> <span class="tb">CustomerOutlet</span> co
<span class="kw">INNER JOIN</span> <span class="tb">Customer</span> c   <span class="kw">ON</span> c.CustomerID  = co.CustomerID
<span class="kw">INNER JOIN</span> <span class="tb">RouteCustomer</span> rc
    <span class="kw">ON</span> rc.CustomerID = co.CustomerID <span class="kw">AND</span> rc.OutletID = co.OutletID
<span class="kw">INNER JOIN</span> <span class="tb">AccountCustOut</span> aco <span class="kw">ON</span> aco.CustomerID = co.CustomerID
<span class="kw">WHERE</span> co.Inactive = <span class="num">0</span>;</pre>
          </div>
        </div>
      </div>
    </div>

    <!-- D03 -->
    <div class="day-card" id="d03">
      <div class="day-hd" onclick="toggleDay(this)">
        <span class="day-pill">D03</span>
        <span class="day-ttl">Composite Keys ‚Äî When One Column Isn't Enough</span>
        <span class="day-dur">~1.5 hrs</span>
        <span class="day-tog">‚ñæ</span>
      </div>
      <div class="day-body">
        <div class="goal"><span class="goal-tag">Today's Goal</span><span class="goal-txt">Understand composite keys ‚Äî the #1 source of duplicate rows in SONIC. Fix this and duplicates disappear forever.</span></div>

        <div class="analogy">
          <span class="analogy-ico">üè¢</span>
          <div>
            <div class="analogy-lbl">The Apartment Analogy</div>
            <p>To find someone's flat you need: <strong>Building + Floor + Unit</strong>. Just "Unit 5" isn't unique ‚Äî every floor has one. In SONIC, <strong>CustomerID alone doesn't identify an outlet</strong>. You need <strong>CustomerID + OutletID</strong> together. Miss either one and you get unwanted duplicate rows.</p>
          </div>
        </div>

        <div class="c-hd">SONIC's composite keys</div>
        <ul class="c-list">
          <li><em>CustomerOutlet</em> ‚Äî requires <strong>CustomerID + OutletID</strong></li>
          <li><em>CustomerOutletLanguage</em> ‚Äî requires <strong>CustomerID + OutletID + LanguageID</strong></li>
          <li><em>RouteCustomer</em> ‚Äî requires <strong>RouteID + CustomerID + OutletID</strong></li>
          <li><em>CityLanguage</em> ‚Äî requires <strong>CityID + LanguageID</strong></li>
        </ul>

        <div class="code-wrap">
          <div class="code-bar"><span class="code-lbl">‚ùå Wrong ‚Äî missing OutletID causes potential duplicate rows</span><button class="copy-btn" onclick="doCopy(this)">Copy</button></div>
          <pre><span class="kw">SELECT</span> co.CustomerCode, col.Description
<span class="kw">FROM</span> <span class="tb">CustomerOutlet</span> co
<span class="kw">LEFT JOIN</span> <span class="tb">CustomerOutletLanguage</span> col
    <span class="kw">ON</span> col.CustomerID = co.CustomerID    <span class="cm">-- Missing OutletID!</span>
    <span class="kw">AND</span> col.LanguageID = <span class="num">1</span>;</pre>
        </div>

        <div class="code-wrap">
          <div class="code-bar"><span class="code-lbl">‚úÖ Correct ‚Äî all composite key columns present</span><button class="copy-btn" onclick="doCopy(this)">Copy</button></div>
          <pre><span class="kw">SELECT</span> co.CustomerCode, col.Description
<span class="kw">FROM</span> <span class="tb">CustomerOutlet</span> co
<span class="kw">LEFT JOIN</span> <span class="tb">CustomerOutletLanguage</span> col
    <span class="kw">ON</span> col.CustomerID = co.CustomerID
    <span class="kw">AND</span> col.OutletID  = co.OutletID    <span class="cm">-- Added!</span>
    <span class="kw">AND</span> col.LanguageID = <span class="num">1</span>;</pre>
        </div>

        <div class="exercise">
          <div class="ex-hd">‚úèÔ∏è Practice</div>
          <p>Remove the LanguageID filter from the correct version. Run it. Count the rows. Add it back. Run again. Explain why the count changed ‚Äî what does each row represent without the filter?</p>
        </div>

        <div class="milestone">
          <span class="milestone-ico">üèÅ</span>
          <div>
            <strong>Phase 1 Checkpoint ‚Äî test yourself after Day 4</strong>
            <p>Explain out loud, without looking: what a JOIN does, when INNER vs LEFT, what a composite key is, why LanguageID must always be filtered. If you can say it clearly, you're ready for Phase 2.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- D04 -->
    <div class="day-card" id="d04">
      <div class="day-hd" onclick="toggleDay(this)">
        <span class="day-pill">D04</span>
        <span class="day-ttl">JOIN Chains ‚Äî Connecting Three or More Tables</span>
        <span class="day-dur">~2 hrs</span>
        <span class="day-tog">‚ñæ</span>
      </div>
      <div class="day-body">
        <div class="goal"><span class="goal-tag">Today's Goal</span><span class="goal-txt">Chain multiple JOINs together ‚Äî navigating from an outlet to its territory in 4 hops, or to its price list in 3 hops.</span></div>

        <div class="c-hd">The three critical chains in SONIC</div>

        <div class="path-chain">
          <span class="pn">CustomerOutlet</span><span class="pa">‚Üí</span>
          <span class="pn">RouteCustomer</span><span class="pa">‚Üí</span>
          <span class="pn">Route</span><span class="pa">‚Üí</span>
          <span class="pn">Territory</span><span class="pa">‚Üí</span>
          <span class="pn">TerritoryLanguage</span>
          <span class="pc-label">Chain 1: Territory</span>
        </div>
        <div class="path-chain">
          <span class="pn">CustomerOutlet</span><span class="pa">‚Üí</span>
          <span class="pn">CustomerOutletGroup</span><span class="pa">‚Üí</span>
          <span class="pn">GroupPrice</span><span class="pa">‚Üí</span>
          <span class="pn">PriceList</span>
          <span class="pc-label">Chain 2: Price List</span>
        </div>
        <div class="path-chain" style="margin-bottom:28px">
          <span class="pn">CustomerOutlet</span><span class="pa">‚Üí</span>
          <span class="pn">AccountCustOut</span><span class="pa">‚Üí</span>
          <span class="pn">Account</span>
          <span class="pc-label">Chain 3: Credit Limit</span>
        </div>

        <div class="code-wrap">
          <div class="code-bar"><span class="code-lbl">Chain 1 ‚Äî Territory via Route (the only correct path)</span><button class="copy-btn" onclick="doCopy(this)">Copy</button></div>
          <pre><span class="kw">SELECT</span>
    co.CustomerCode,
    t.TerritoryCode,
    tl.Description  <span class="kw">AS</span> TerritoryName
<span class="kw">FROM</span> <span class="tb">CustomerOutlet</span> co
<span class="kw">LEFT JOIN</span> <span class="tb">RouteCustomer</span> rc        <span class="cm">-- Hop 1</span>
    <span class="kw">ON</span> rc.CustomerID = co.CustomerID
    <span class="kw">AND</span> rc.OutletID  = co.OutletID
<span class="kw">LEFT JOIN</span> <span class="tb">Route</span> r                  <span class="cm">-- Hop 2</span>
    <span class="kw">ON</span> r.RouteID = rc.RouteID
<span class="kw">LEFT JOIN</span> <span class="tb">Territory</span> t              <span class="cm">-- Hop 3</span>
    <span class="kw">ON</span> t.TerritoryID = r.TerritoryID
<span class="kw">LEFT JOIN</span> <span class="tb">TerritoryLanguage</span> tl     <span class="cm">-- Hop 4: name</span>
    <span class="kw">ON</span> tl.TerritoryID = t.TerritoryID
    <span class="kw">AND</span> tl.LanguageID = <span class="num">1</span>
<span class="kw">WHERE</span> co.Inactive = <span class="num">0</span>;</pre>
        </div>

        <div class="exercise">
          <div class="ex-hd">‚úèÔ∏è Build Chain 2 Yourself</div>
          <p>Using Chain 1 as your template, write Chain 2 ‚Äî the Price List path. Start from CustomerOutlet, go CustomerOutletGroup ‚Üí GroupPrice ‚Üí PriceList. Select CustomerCode and PriceListCode.</p>
          <div class="hint">Hint: CustomerOutletGroup joins on CustomerID + OutletID. GroupPrice joins on GroupID. PriceList joins on PriceListID.</div>
        </div>
      </div>
    </div>

  </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     PHASE 2
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section id="phase2" class="phase-block ph2">
  <div class="phase-bar" onclick="togglePhase(this)">
    <div class="phase-ico">üó∫Ô∏è</div>
    <div class="phase-meta">
      <div class="phase-title">Phase 2 ‚Äî Learn the SONIC Schema</div>
      <div class="phase-sub">Days 5‚Äì8 ¬∑ Map every corner of the database. Know where everything lives.</div>
    </div>
    <span class="phase-tag">Week 2</span>
    <span class="phase-chev">‚ñæ</span>
  </div>
  <div class="phase-body">

    <div class="day-card" id="d05">
      <div class="day-hd" onclick="toggleDay(this)">
        <span class="day-pill">D05</span>
        <span class="day-ttl">The 5 Golden Rules ‚Äî Memorise Once, Use Forever</span>
        <span class="day-dur">~1.5 hrs</span>
        <span class="day-tog">‚ñæ</span>
      </div>
      <div class="day-body">
        <div class="goal"><span class="goal-tag">Today's Goal</span><span class="goal-txt">Burn the 5 rules into memory. Every mistake anyone has ever made in this database traces back to breaking one of them.</span></div>

        <div class="rules-grid">
          <div class="rule"><div class="rule-n">01</div><div><strong>Always start with USE</strong><p>Add <code>USE [SONICMansourDataNew];</code> at the top of every session. Without it you're querying the wrong database.</p></div></div>
          <div class="rule"><div class="rule-n">02</div><div><strong>Filter inactive and voided</strong><p><code>Inactive = 0</code>, <code>Voided = 0</code>, <code>IsDeleted = 0</code>. Skip these and every number is wrong.</p></div></div>
          <div class="rule"><div class="rule-n">03</div><div><strong>LanguageID on every Language JOIN</strong><p>Miss it and rows double. Every Language table JOIN needs <code>AND LanguageID = 1</code>. Every. Single. One.</p></div></div>
          <div class="rule"><div class="rule-n">04</div><div><strong>TransactionID is text, not a number</strong><p>Always quote it: <code>'12345'</code> not <code>12345</code>. It's nvarchar ‚Äî causes a hard error if you forget.</p></div></div>
          <div class="rule full"><div class="rule-n">05</div><div><strong>Territory via Route ‚Äî NEVER via CustOutTerritory</strong><p>CustOutTerritory is for supervisor oversight only. For sales territory use: <code>CustomerOutlet ‚Üí RouteCustomer ‚Üí Route ‚Üí Territory</code>. This is the most common first-timer mistake in this database.</p></div></div>
        </div>

        <div class="code-wrap">
          <div class="code-bar"><span class="code-lbl">Standard filter set ‚Äî paste this into every query</span><button class="copy-btn" onclick="doCopy(this)">Copy</button></div>
          <pre><span class="kw">WHERE</span>
    co.Inactive  = <span class="num">0</span>    <span class="cm">-- Active outlets only</span>
    <span class="kw">AND</span>  c.Inactive  = <span class="num">0</span>    <span class="cm">-- Active customers only</span>
    <span class="kw">AND</span> tr.Voided    = <span class="num">0</span>    <span class="cm">-- Real invoices only</span>
    <span class="kw">AND</span>  e.Inactive  = <span class="num">0</span>    <span class="cm">-- Active employees only</span>
    <span class="kw">AND</span> pl.IsDeleted = <span class="num">0</span>    <span class="cm">-- Active price lists only</span></pre>
        </div>

        <div class="exercise">
          <div class="ex-hd">‚úèÔ∏è Memory Test</div>
          <p>Close this guide. Write all 5 rules from memory on paper. Open and check. Repeat until you get all 5 without looking. Takes 15 minutes and saves hours of debugging.</p>
        </div>
      </div>
    </div>

    <div class="day-card" id="d06">
      <div class="day-hd" onclick="toggleDay(this)">
        <span class="day-pill">D06</span>
        <span class="day-ttl">Customer &amp; Outlet ‚Äî The Heart of the Database</span>
        <span class="day-dur">~2.5 hrs</span>
        <span class="day-tog">‚ñæ</span>
      </div>
      <div class="day-body">
        <div class="goal"><span class="goal-tag">Today's Goal</span><span class="goal-txt">Fully understand Customer vs CustomerOutlet. These two tables appear in almost every query you'll ever write.</span></div>

        <div class="analogy">
          <span class="analogy-ico">üè¢</span>
          <div>
            <div class="analogy-lbl">Company vs Branch</div>
            <p><strong>Customer</strong> = the company ("ABC Supermarkets") ‚Äî holds currency, payment terms, account<br>
            <strong>CustomerOutlet</strong> = each physical branch ("ABC Mall", "ABC Downtown") ‚Äî holds GPS, address, barcode, contacts<br>
            Sales happen at the <strong>outlet</strong> level. Currency and payment terms live at the <strong>customer</strong> level.</p>
          </div>
        </div>

        <div class="code-wrap">
          <div class="code-bar"><span class="code-lbl">‚úÖ Correct ‚Äî payment term and currency from Customer (c), not Outlet (co)</span><button class="copy-btn" onclick="doCopy(this)">Copy</button></div>
          <pre><span class="kw">SELECT</span>
    co.CustomerCode  <span class="kw">AS</span> OutletCode,
    c.CustomerCode   <span class="kw">AS</span> CustomerCode,
    ptl.Description  <span class="kw">AS</span> PaymentTerms,
    cul.Description  <span class="kw">AS</span> Currency
<span class="kw">FROM</span> <span class="tb">CustomerOutlet</span> co
<span class="kw">INNER JOIN</span> <span class="tb">Customer</span> c
    <span class="kw">ON</span> c.CustomerID = co.CustomerID
<span class="kw">LEFT JOIN</span> <span class="tb">PaymentTerm</span> pt
    <span class="kw">ON</span> pt.PaymentTermID = c.PaymentTermID     <span class="cm">-- from c, not co</span>
<span class="kw">LEFT JOIN</span> <span class="tb">PaymentTermLanguage</span> ptl
    <span class="kw">ON</span> ptl.PaymentTermID = pt.PaymentTermID
    <span class="kw">AND</span> ptl.LanguageID   = <span class="num">1</span>
<span class="kw">LEFT JOIN</span> <span class="tb">Currency</span> cur
    <span class="kw">ON</span> cur.CurrencyID = c.CurrencyID           <span class="cm">-- from c, not co</span>
<span class="kw">LEFT JOIN</span> <span class="tb">CurrencyLanguage</span> cul
    <span class="kw">ON</span> cul.CurrencyID  = cur.CurrencyID
    <span class="kw">AND</span> cul.LanguageID = <span class="num">1</span>
<span class="kw">WHERE</span> co.Inactive = <span class="num">0</span>;</pre>
        </div>

        <div class="exercise">
          <div class="ex-hd">‚úèÔ∏è Practice</div>
          <p>Extend the query to also show the CustomerType name. <em>CustomerOutlet</em> has a <em>CustomerTypeID</em>. Join to <em>CustomerType</em>, then <em>CustomerTypeLanguage</em> for the English name.</p>
        </div>
      </div>
    </div>

    <div class="day-card" id="d07">
      <div class="day-hd" onclick="toggleDay(this)">
        <span class="day-pill">D07</span>
        <span class="day-ttl">Routes, Territory &amp; the Daily Record</span>
        <span class="day-dur">~2 hrs</span>
        <span class="day-tog">‚ñæ</span>
      </div>
      <div class="day-body">
        <div class="goal"><span class="goal-tag">Today's Goal</span><span class="goal-txt">Understand how the business operates day to day and how it maps to tables. RouteHistory is the most-linked table in the database ‚Äî 167 other tables connect to it.</span></div>

        <div class="analogy">
          <span class="analogy-ico">üöó</span>
          <div>
            <div class="analogy-lbl">The Delivery Driver Analogy</div>
            <p><strong>Route</strong> = planned stops for today (Route 5 visits shops A, B, C, D)<br>
            <strong>RouteHistory</strong> = what actually happened (Ahmed started 8am, ended 5pm)<br>
            <strong>RouteHistoryDetail</strong> = each stop (arrived Shop A at 9am, sold 50 units)<br>
            <strong>Transaction</strong> = the invoice created at each shop</p>
          </div>
        </div>

        <div class="code-wrap">
          <div class="code-bar"><span class="code-lbl">Explore RouteHistory ‚Äî hub of all daily data</span><button class="copy-btn" onclick="doCopy(this)">Copy</button></div>
          <pre><span class="kw">SELECT TOP</span> <span class="num">20</span>
    rh.RouteHistoryID,
    <span class="fn">CAST</span>(rh.RouteDate <span class="kw">AS DATE</span>)  <span class="kw">AS</span> RouteDate,
    rh.EmployeeID,
    rh.TerritoryID,         <span class="cm">-- Stored directly ‚Äî no chain needed here</span>
    rh.IsRouteEnded,        <span class="cm">-- 1 = day complete, data is final</span>
    rh.Uploaded             <span class="cm">-- 1 = device has synced to server</span>
<span class="kw">FROM</span> <span class="tb">RouteHistory</span> rh
<span class="kw">ORDER BY</span> rh.RouteDate <span class="kw">DESC</span>;</pre>
        </div>

        <div class="code-wrap">
          <div class="code-bar"><span class="code-lbl">Visit outcomes ‚Äî what happened at each shop stop</span><button class="copy-btn" onclick="doCopy(this)">Copy</button></div>
          <pre><span class="kw">SELECT</span>
    rhd.CustomerID,
    <span class="kw">CASE</span>
        <span class="kw">WHEN</span> vs.IsProductive = <span class="num">1</span>                      <span class="kw">THEN</span> <span class="str">'Visited + Sale'</span>
        <span class="kw">WHEN</span> vs.IsVisited = <span class="num">1</span> <span class="kw">AND</span> vs.IsProductive = <span class="num">0</span> <span class="kw">THEN</span> <span class="str">'Visited, No Sale'</span>
        <span class="kw">ELSE</span>                                              <span class="str">'Skipped'</span>
    <span class="kw">END</span> <span class="kw">AS</span> Outcome
<span class="kw">FROM</span> <span class="tb">RouteHistoryDetail</span> rhd
<span class="kw">LEFT JOIN</span> <span class="tb">VisitStatus</span> vs
    <span class="kw">ON</span> vs.VisitStatusID = rhd.VisitStatusID
<span class="kw">WHERE</span> rhd.RouteHistoryID = (
    <span class="kw">SELECT TOP</span> <span class="num">1</span> RouteHistoryID <span class="kw">FROM</span> <span class="tb">RouteHistory</span> <span class="kw">ORDER BY</span> RouteDate <span class="kw">DESC</span>
);</pre>
        </div>

        <div class="exercise">
          <div class="ex-hd">‚úèÔ∏è Practice</div>
          <p>Run both queries. For the second: count "Visited + Sale", "Visited, No Sale", and "Skipped". Calculate the visit rate (visited √∑ total) and sales rate (sold √∑ visited) as percentages.</p>
        </div>
      </div>
    </div>

    <div class="day-card" id="d08">
      <div class="day-hd" onclick="toggleDay(this)">
        <span class="day-pill">D08</span>
        <span class="day-ttl">Transactions &amp; Products ‚Äî The Invoice System</span>
        <span class="day-dur">~2.5 hrs</span>
        <span class="day-tog">‚ñæ</span>
      </div>
      <div class="day-body">
        <div class="goal"><span class="goal-tag">Today's Goal</span><span class="goal-txt">Understand how invoices and product lines work, and master pre-aggregation ‚Äî the fix for row multiplication, the most common advanced mistake.</span></div>

        <ul class="c-list">
          <li>One <strong>Transaction</strong> = one invoice header (Invoice #1234, Total $500)</li>
          <li>Many <strong>TransactionDetail</strong> = individual product lines on that invoice</li>
          <li>Joining both gives <em>one row per product per invoice</em> ‚Äî this causes aggregation errors</li>
          <li>Fix: pre-aggregate TransactionDetail in a subquery <em>before</em> joining to anything else</li>
        </ul>

        <div class="code-wrap">
          <div class="code-bar"><span class="code-lbl">Pre-aggregation pattern ‚Äî prevents row multiplication</span><button class="copy-btn" onclick="doCopy(this)">Copy</button></div>
          <pre><span class="kw">SELECT</span>
    tr.TransactionID,
    co.CustomerCode,
    tr.NetTotal,
    sales.TotalQty         <span class="cm">-- Pre-aggregated ‚Äî one row per invoice stays one row</span>
<span class="kw">FROM</span> <span class="tb">Transaction</span> tr
<span class="kw">INNER JOIN</span> <span class="tb">CustomerOutlet</span> co
    <span class="kw">ON</span> co.CustomerID = tr.CustomerID
    <span class="kw">AND</span> co.OutletID  = tr.OutletID
<span class="kw">LEFT JOIN</span> (
    <span class="cm">-- Aggregate BEFORE joining ‚Äî not after</span>
    <span class="kw">SELECT</span> TransactionID, <span class="fn">SUM</span>(Quantity) <span class="kw">AS</span> TotalQty
    <span class="kw">FROM</span> <span class="tb">TransactionDetail</span>
    <span class="kw">GROUP BY</span> TransactionID
) sales <span class="kw">ON</span> sales.TransactionID = tr.TransactionID
<span class="kw">WHERE</span>
    tr.TransactionTypeID = <span class="num">1</span>   <span class="cm">-- Sales invoices only</span>
    <span class="kw">AND</span> tr.Voided       = <span class="num">0</span>   <span class="cm">-- Never cancelled</span>
    <span class="kw">AND</span> co.Inactive     = <span class="num">0</span>
<span class="kw">ORDER BY</span> tr.TransactionDate <span class="kw">DESC</span>;</pre>
        </div>

        <div class="milestone">
          <span class="milestone-ico">üó∫Ô∏è</span>
          <div>
            <strong>Phase 2 Complete ‚Äî You Know the Schema</strong>
            <p>Customer & Outlet, Routes & Territory, daily operations, transactions & products. You can navigate this database without guessing. Phase 3 is where everything comes together into real reports.</p>
          </div>
        </div>
      </div>
    </div>

  </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     PHASE 3
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section id="phase3" class="phase-block ph3">
  <div class="phase-bar" onclick="togglePhase(this)">
    <div class="phase-ico">üèóÔ∏è</div>
    <div class="phase-meta">
      <div class="phase-title">Phase 3 ‚Äî Build Real Reports</div>
      <div class="phase-sub">Days 9‚Äì13 ¬∑ Write actual production reports from scratch using a system.</div>
    </div>
    <span class="phase-tag">Week 2‚Äì3</span>
    <span class="phase-chev">‚ñæ</span>
  </div>
  <div class="phase-body">

    <div class="day-card" id="d09">
      <div class="day-hd" onclick="toggleDay(this)">
        <span class="day-pill">D09</span>
        <span class="day-ttl">The 4-Step Method ‚Äî Your Query-Writing System</span>
        <span class="day-dur">~1.5 hrs</span>
        <span class="day-tog">‚ñæ</span>
      </div>
      <div class="day-body">
        <div class="goal"><span class="goal-tag">Today's Goal</span><span class="goal-txt">Learn the system for building any query from scratch. Apply it every time ‚Äî it prevents every mistake.</span></div>

        <ul class="c-list" style="margin-bottom:28px">
          <li><strong>Step 1 ‚Äî What is ONE row?</strong> The answer becomes your FROM table. One outlet ‚Üí CustomerOutlet. One salesman day ‚Üí RouteHistory. One invoice ‚Üí Transaction.</li>
          <li><strong>Step 2 ‚Äî What columns do I need?</strong> List them all. Mark which table each lives in. Split into "on anchor table" vs "needs a JOIN".</li>
          <li><strong>Step 3 ‚Äî Trace the path.</strong> For each JOIN, draw the chain from anchor to target. More than 4 hops? Check for a shortcut.</li>
          <li><strong>Step 4 ‚Äî INNER or LEFT?</strong> For each JOIN: can the left-side row exist without a right-side match? YES ‚Üí LEFT JOIN.</li>
        </ul>

        <div class="exercise">
          <div class="ex-hd">‚úèÔ∏è Apply the 4 Steps on Paper</div>
          <p>Before writing any code, apply all 4 steps to this requirement:<br><em style="color:var(--t1);font-style:normal;font-weight:500">"Show each salesman's name, their territory, and how many outlets are on their route."</em></p>
          <div class="hint">Step 1 hint ‚Äî what is ONE row here? A salesman? A route day? Think before coding.</div>
        </div>
      </div>
    </div>

    <div class="day-card" id="d10">
      <div class="day-hd" onclick="toggleDay(this)">
        <span class="day-pill">D10</span>
        <span class="day-ttl">Build the Customer Master Report ‚Äî Part 1 (Cols 1‚Äì15)</span>
        <span class="day-dur">~3 hrs</span>
        <span class="day-tog">‚ñæ</span>
      </div>
      <div class="day-body">
        <div class="goal"><span class="goal-tag">Today's Goal</span><span class="goal-txt">Build the first 15 columns yourself. No copying the final query ‚Äî build it section by section.</span></div>

        <ul class="c-list" style="margin-bottom:24px">
          <li><strong>Cols 1‚Äì3:</strong> CustomerCode, OutletCode, Barcode ‚Äî directly on Customer / CustomerOutlet</li>
          <li><strong>Col 4:</strong> CustomerType ‚Äî CustomerTypeID ‚Üí CustomerType ‚Üí CustomerTypeLanguage</li>
          <li><strong>Cols 5‚Äì6:</strong> OrganizationCode, OrganizationName ‚Äî via Route chain ‚Üí Territory ‚Üí Organization</li>
          <li><strong>Col 7:</strong> TerritoryCode ‚Äî same Route chain</li>
          <li><strong>Col 8:</strong> PriceListCode ‚Äî CustomerOutletGroup ‚Üí GroupPrice ‚Üí PriceList</li>
          <li><strong>Cols 9‚Äì11:</strong> Phone, Fax, Email ‚Äî directly on CustomerOutlet</li>
          <li><strong>Cols 12‚Äì13:</strong> CreditLimit, Balance ‚Äî AccountCustOut ‚Üí Account</li>
          <li><strong>Cols 14‚Äì15:</strong> PaymentTerms, BillsNo ‚Äî Customer ‚Üí PaymentTerm</li>
        </ul>

        <div class="code-wrap">
          <div class="code-bar"><span class="code-lbl">Starting skeleton ‚Äî uncomment one section at a time, add JOINs, run, verify</span><button class="copy-btn" onclick="doCopy(this)">Copy</button></div>
          <pre><span class="kw">USE</span> [SONICMansourDataNew];
<span class="kw">GO</span>
<span class="kw">SELECT</span>
    <span class="cm">-- Cols 1-3 (direct)</span>
    c.CustomerCode,
    co.CustomerCode  <span class="kw">AS</span> OutletCode,
    co.Barcode,

    <span class="cm">-- Col 4: CustomerType ‚Äî uncomment + add JOIN</span>
    <span class="cm">-- ctl_en.Description AS CustomerType,</span>

    <span class="cm">-- Cols 5-6: Organization ‚Äî uncomment + add Route chain JOIN</span>
    <span class="cm">-- o.OrganizationCode,</span>
    <span class="cm">-- ol_en.Description AS OrganizationDescription,</span>

    <span class="cm">-- Col 7: Territory ‚Äî uncomment + add Territory JOIN</span>
    <span class="cm">-- t.TerritoryCode,</span>

    <span class="cm">-- Col 8: PriceList ‚Äî uncomment + add Group chain JOIN</span>
    <span class="cm">-- pl.PriceListCode,</span>

    <span class="cm">-- Cols 9-11 (direct)</span>
    co.Phone, co.Fax, co.Email,

    <span class="cm">-- Cols 12-13: Account ‚Äî uncomment + add Account chain JOIN</span>
    <span class="cm">-- ISNULL(a.CreditLimit, 0) AS CreditLimit,</span>
    <span class="cm">-- ISNULL(a.Balance,     0) AS Balance,</span>

    <span class="cm">-- Cols 14-15: PaymentTerm ‚Äî uncomment + add PaymentTerm JOIN</span>
    <span class="cm">-- ptl_en.Description      AS PaymentTerms,</span>
    <span class="cm">-- co.BillsOpenNumber       AS BillsNo</span>

<span class="kw">FROM</span> <span class="tb">CustomerOutlet</span> co
    <span class="kw">INNER JOIN</span> <span class="tb">Customer</span> c <span class="kw">ON</span> c.CustomerID = co.CustomerID
    <span class="cm">-- Add your JOINs here ‚Äî one section at a time</span>
<span class="kw">WHERE</span>
    co.Inactive = <span class="num">0</span>
    <span class="kw">AND</span> c.Inactive  = <span class="num">0</span>
<span class="kw">ORDER BY</span> c.CustomerCode, co.OutletID;</pre>
        </div>

        <div class="exercise">
          <div class="ex-hd">‚úèÔ∏è Task</div>
          <p>Uncomment one section. Add the JOIN(s) needed. Run. Verify the column shows real data. Move to the next. Never try to add all 15 at once.</p>
          <div class="hint">Column shows NULL? Check INNER vs LEFT. Check all composite key columns are in the ON clause.</div>
        </div>
      </div>
    </div>

    <div class="day-card" id="d11">
      <div class="day-hd" onclick="toggleDay(this)">
        <span class="day-pill">D11</span>
        <span class="day-ttl">Customer Master Report ‚Äî Part 2 (Geography + Bilingual)</span>
        <span class="day-dur">~3 hrs</span>
        <span class="day-tog">‚ñæ</span>
      </div>
      <div class="day-body">
        <div class="goal"><span class="goal-tag">Today's Goal</span><span class="goal-txt">Complete columns 16‚Äì37: geography (5 levels), GPS, address, and bilingual EN + AR names.</span></div>

        <div class="code-wrap">
          <div class="code-bar"><span class="code-lbl">Geography template ‚Äî repeat for State, City, Area, Street</span><button class="copy-btn" onclick="doCopy(this)">Copy</button></div>
          <pre><span class="cm">-- COUNTRY</span>
<span class="kw">LEFT JOIN</span> <span class="tb">Country</span> ctr    <span class="kw">ON</span> ctr.CountryID = co.CountryID
<span class="kw">LEFT JOIN</span> <span class="tb">CountryLanguage</span> ctrl_en
    <span class="kw">ON</span> ctrl_en.CountryID  = ctr.CountryID <span class="kw">AND</span> ctrl_en.LanguageID = <span class="num">1</span>

<span class="cm">-- STATE (composite: CountryID + StateID)</span>
<span class="kw">LEFT JOIN</span> <span class="tb">State</span> s
    <span class="kw">ON</span> s.CountryID = co.CountryID <span class="kw">AND</span> s.StateID = co.StateID
<span class="kw">LEFT JOIN</span> <span class="tb">StateLanguage</span> sl_en
    <span class="kw">ON</span> sl_en.CountryID = s.CountryID <span class="kw">AND</span> sl_en.StateID = s.StateID
    <span class="kw">AND</span> sl_en.LanguageID = <span class="num">1</span>

<span class="cm">-- Follow same pattern for City, Area, Street</span></pre>
        </div>

        <div class="code-wrap">
          <div class="code-bar"><span class="code-lbl">Bilingual trick ‚Äî join the same table twice with different aliases</span><button class="copy-btn" onclick="doCopy(this)">Copy</button></div>
          <pre><span class="kw">SELECT</span>
    cl_en.Description   <span class="kw">AS</span> [CustomerDescription-en],
    cl_ar.Description   <span class="kw">AS</span> [CustomerDescription-ar],
    col_en.Description  <span class="kw">AS</span> [OutletDescription-en],
    col_ar.Description  <span class="kw">AS</span> [OutletDescription-ar]
<span class="kw">FROM</span> <span class="tb">CustomerOutlet</span> co
    <span class="kw">INNER JOIN</span> <span class="tb">Customer</span> c  <span class="kw">ON</span> c.CustomerID = co.CustomerID
    <span class="kw">LEFT JOIN</span> <span class="tb">CustomerLanguage</span> cl_en
        <span class="kw">ON</span> cl_en.CustomerID = c.CustomerID <span class="kw">AND</span> cl_en.LanguageID = <span class="num">1</span>
    <span class="kw">LEFT JOIN</span> <span class="tb">CustomerLanguage</span> cl_ar
        <span class="kw">ON</span> cl_ar.CustomerID = c.CustomerID <span class="kw">AND</span> cl_ar.LanguageID = <span class="num">2</span>
    <span class="kw">LEFT JOIN</span> <span class="tb">CustomerOutletLanguage</span> col_en
        <span class="kw">ON</span> col_en.CustomerID = co.CustomerID <span class="kw">AND</span> col_en.OutletID = co.OutletID
        <span class="kw">AND</span> col_en.LanguageID = <span class="num">1</span>
    <span class="kw">LEFT JOIN</span> <span class="tb">CustomerOutletLanguage</span> col_ar
        <span class="kw">ON</span> col_ar.CustomerID = co.CustomerID <span class="kw">AND</span> col_ar.OutletID = co.OutletID
        <span class="kw">AND</span> col_ar.LanguageID = <span class="num">2</span>
<span class="kw">WHERE</span> co.Inactive = <span class="num">0</span>;</pre>
        </div>

        <div class="exercise">
          <div class="ex-hd">‚úèÔ∏è Complete the 37-Column Report</div>
          <p>Combine today's geography and bilingual patterns with what you built on Day 10. When it runs and returns all 37 columns with real data ‚Äî that's the Customer Master Report, built by you.</p>
        </div>
      </div>
    </div>

    <div class="day-card" id="d12">
      <div class="day-hd" onclick="toggleDay(this)">
        <span class="day-pill">D12</span>
        <span class="day-ttl">Build the Daily Visits Report</span>
        <span class="day-dur">~2.5 hrs</span>
        <span class="day-tog">‚ñæ</span>
      </div>
      <div class="day-body">
        <div class="goal"><span class="goal-tag">Today's Goal</span><span class="goal-txt">Build a completely different report ‚Äî proving the 4-step method works for any requirement.</span></div>

        <div class="code-wrap">
          <div class="code-bar"><span class="code-lbl">Daily Visits Report ‚Äî one row per salesman per day</span><button class="copy-btn" onclick="doCopy(this)">Copy</button></div>
          <pre><span class="kw">USE</span> [SONICMansourDataNew];
<span class="kw">GO</span>
<span class="kw">DECLARE</span> @DateFrom <span class="kw">DATE</span> = <span class="str">'2026-01-01'</span>;
<span class="kw">DECLARE</span> @DateTo   <span class="kw">DATE</span> = <span class="str">'2026-12-31'</span>;

<span class="kw">SELECT</span>
    <span class="fn">CAST</span>(rh.RouteDate <span class="kw">AS DATE</span>)   <span class="kw">AS</span> Date,
    e.EmployeeCode,
    el.Description                <span class="kw">AS</span> SalesmanName,
    t.TerritoryCode,
    tl.Description                <span class="kw">AS</span> TerritoryName,
    visits.TotalPlanned,
    visits.TotalVisited,
    visits.TotalSales,
    <span class="fn">ISNULL</span>(sales.TotalRevenue, <span class="num">0</span>)  <span class="kw">AS</span> TotalRevenue
<span class="kw">FROM</span> <span class="tb">RouteHistory</span> rh
    <span class="kw">INNER JOIN</span> <span class="tb">Employee</span> e   <span class="kw">ON</span> e.EmployeeID = rh.EmployeeID
    <span class="kw">LEFT JOIN</span>  <span class="tb">EmployeeLanguage</span> el
        <span class="kw">ON</span> el.EmployeeID = e.EmployeeID <span class="kw">AND</span> el.LanguageID = <span class="num">1</span>
    <span class="kw">LEFT JOIN</span>  <span class="tb">Territory</span> t    <span class="kw">ON</span> t.TerritoryID  = rh.TerritoryID
    <span class="kw">LEFT JOIN</span>  <span class="tb">TerritoryLanguage</span> tl
        <span class="kw">ON</span> tl.TerritoryID = t.TerritoryID <span class="kw">AND</span> tl.LanguageID = <span class="num">1</span>
    <span class="kw">LEFT JOIN</span> (
        <span class="kw">SELECT</span>
            RouteHistoryID,
            <span class="fn">COUNT</span>(*)                                                       <span class="kw">AS</span> TotalPlanned,
            <span class="fn">SUM</span>(<span class="kw">CASE WHEN</span> vs.IsVisited    = <span class="num">1</span> <span class="kw">THEN</span> <span class="num">1</span> <span class="kw">ELSE</span> <span class="num">0</span> <span class="kw">END</span>)    <span class="kw">AS</span> TotalVisited,
            <span class="fn">SUM</span>(<span class="kw">CASE WHEN</span> vs.IsProductive = <span class="num">1</span> <span class="kw">THEN</span> <span class="num">1</span> <span class="kw">ELSE</span> <span class="num">0</span> <span class="kw">END</span>)    <span class="kw">AS</span> TotalSales
        <span class="kw">FROM</span> <span class="tb">RouteHistoryDetail</span> rhd
        <span class="kw">LEFT JOIN</span> <span class="tb">VisitStatus</span> vs <span class="kw">ON</span> vs.VisitStatusID = rhd.VisitStatusID
        <span class="kw">GROUP BY</span> RouteHistoryID
    ) visits <span class="kw">ON</span> visits.RouteHistoryID = rh.RouteHistoryID
    <span class="kw">LEFT JOIN</span> (
        <span class="kw">SELECT</span> RouteHistoryID, <span class="fn">SUM</span>(NetTotal) <span class="kw">AS</span> TotalRevenue
        <span class="kw">FROM</span> <span class="tb">Transaction</span>
        <span class="kw">WHERE</span> TransactionTypeID = <span class="num">1</span> <span class="kw">AND</span> Voided = <span class="num">0</span>
        <span class="kw">GROUP BY</span> RouteHistoryID
    ) sales <span class="kw">ON</span> sales.RouteHistoryID = rh.RouteHistoryID
<span class="kw">WHERE</span>
    <span class="fn">CAST</span>(rh.RouteDate <span class="kw">AS DATE</span>) <span class="kw">BETWEEN</span> @DateFrom <span class="kw">AND</span> @DateTo
    <span class="kw">AND</span> e.Inactive = <span class="num">0</span>
<span class="kw">ORDER BY</span> rh.RouteDate <span class="kw">DESC</span>, e.EmployeeCode;</pre>
        </div>
      </div>
    </div>

    <div class="day-card" id="d13">
      <div class="day-hd" onclick="toggleDay(this)">
        <span class="day-pill">D13</span>
        <span class="day-ttl">Debugging ‚Äî What to Do When Things Go Wrong</span>
        <span class="day-dur">~2 hrs</span>
        <span class="day-tog">‚ñæ</span>
      </div>
      <div class="day-body">
        <div class="goal"><span class="goal-tag">Today's Goal</span><span class="goal-txt">A systematic debugging protocol solves 100% of problems in under 5 minutes. This is a learnable skill, not instinct.</span></div>

        <ul class="c-list" style="margin-bottom:28px">
          <li><strong>Step 1:</strong> <em>SELECT COUNT(*) FROM [YourTable]</em>. Zero rows = wrong database or filters too strict.</li>
          <li><strong>Step 2:</strong> Add JOINs one at a time. The step where count drops unexpectedly is the bug.</li>
          <li><strong>Step 3:</strong> Count before and after a JOIN. Doubled? Missing LanguageID or composite key.</li>
          <li><strong>Step 4:</strong> Filter to one known customer. Does the output match your expectation?</li>
        </ul>

        <div class="code-wrap">
          <div class="code-bar"><span class="code-lbl">Diagnostic toolkit ‚Äî use when something looks wrong</span><button class="copy-btn" onclick="doCopy(this)">Copy</button></div>
          <pre><span class="cm">-- 1. Is there data in the table?</span>
<span class="kw">SELECT TOP</span> <span class="num">5</span> * <span class="kw">FROM</span> <span class="tb">CustomerOutlet</span>;

<span class="cm">-- 2. Which rows are NOT matching my JOIN?</span>
<span class="kw">SELECT</span> <span class="fn">COUNT</span>(*) <span class="kw">FROM</span> <span class="tb">CustomerOutlet</span> co
<span class="kw">LEFT JOIN</span> <span class="tb">RouteCustomer</span> rc
    <span class="kw">ON</span> rc.CustomerID = co.CustomerID <span class="kw">AND</span> rc.OutletID = co.OutletID
<span class="kw">WHERE</span> rc.RouteID <span class="kw">IS NULL</span>;   <span class="cm">-- Outlets with no route</span>

<span class="cm">-- 3. Am I getting duplicate rows?</span>
<span class="kw">SELECT</span> co.CustomerID, co.OutletID, <span class="fn">COUNT</span>(*) <span class="kw">AS</span> Cnt
<span class="kw">FROM</span> <span class="tb">CustomerOutlet</span> co
<span class="kw">LEFT JOIN</span> <span class="tb">CustomerOutletLanguage</span> col
    <span class="kw">ON</span> col.CustomerID = co.CustomerID <span class="kw">AND</span> col.OutletID = co.OutletID
    <span class="cm">-- AND col.LanguageID = 1   &lt;-- comment out to provoke duplicates</span>
<span class="kw">GROUP BY</span> co.CustomerID, co.OutletID
<span class="kw">HAVING</span> <span class="fn">COUNT</span>(*) > <span class="num">1</span>;   <span class="cm">-- Only rows that appear more than once</span></pre>
        </div>

        <div class="milestone">
          <span class="milestone-ico">üèóÔ∏è</span>
          <div>
            <strong>Phase 3 Complete ‚Äî You Build Real Reports</strong>
            <p>Customer Master Report (37 columns) and Daily Visits Report ‚Äî both built from scratch. You have a debugging protocol. Phase 4 is the final stage: proving full mastery.</p>
          </div>
        </div>
      </div>
    </div>

  </div>
</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     PHASE 4
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<section id="phase4" class="phase-block ph4">
  <div class="phase-bar" onclick="togglePhase(this)">
    <div class="phase-ico">üèÜ</div>
    <div class="phase-meta">
      <div class="phase-title">Phase 4 ‚Äî Full Mastery</div>
      <div class="phase-sub">Days 14‚Äì15 ¬∑ Advanced patterns and the final test ‚Äî zero help allowed.</div>
    </div>
    <span class="phase-tag">Week 3</span>
    <span class="phase-chev">‚ñæ</span>
  </div>
  <div class="phase-body">

    <div class="day-card" id="d14">
      <div class="day-hd" onclick="toggleDay(this)">
        <span class="day-pill">D14</span>
        <span class="day-ttl">GROUP BY, Aggregates &amp; Optional Parameters</span>
        <span class="day-dur">~2.5 hrs</span>
        <span class="day-tog">‚ñæ</span>
      </div>
      <div class="day-body">
        <div class="goal"><span class="goal-tag">Today's Goal</span><span class="goal-txt">Master GROUP BY, aggregate functions, and the optional parameter pattern. These appear in every management-level report.</span></div>

        <div class="code-wrap">
          <div class="code-bar"><span class="code-lbl">Optional parameter pattern ‚Äî one query serves all filter combinations</span><button class="copy-btn" onclick="doCopy(this)">Copy</button></div>
          <pre><span class="kw">DECLARE</span> @DateFrom    <span class="kw">DATE</span> = <span class="str">'2026-01-01'</span>;
<span class="kw">DECLARE</span> @DateTo      <span class="kw">DATE</span> = <span class="str">'2026-12-31'</span>;
<span class="kw">DECLARE</span> @TerritoryID <span class="kw">INT</span>  = <span class="kw">NULL</span>;   <span class="cm">-- NULL = all territories</span>
<span class="kw">DECLARE</span> @EmployeeID  <span class="kw">INT</span>  = <span class="kw">NULL</span>;   <span class="cm">-- NULL = all employees</span>

<span class="kw">WHERE</span>
    <span class="fn">CAST</span>(rh.RouteDate <span class="kw">AS DATE</span>) <span class="kw">BETWEEN</span> @DateFrom <span class="kw">AND</span> @DateTo
    <span class="cm">-- When NULL: condition always true = no filter applied</span>
    <span class="cm">-- When set to 5: only that territory / employee returned</span>
    <span class="kw">AND</span> (@TerritoryID <span class="kw">IS NULL OR</span> rh.TerritoryID = @TerritoryID)
    <span class="kw">AND</span> (@EmployeeID  <span class="kw">IS NULL OR</span> rh.EmployeeID  = @EmployeeID)</pre>
        </div>

        <div class="code-wrap">
          <div class="code-bar"><span class="code-lbl">Territory Summary ‚Äî GROUP BY in full production form</span><button class="copy-btn" onclick="doCopy(this)">Copy</button></div>
          <pre><span class="kw">SELECT</span>
    t.TerritoryCode,
    tl.Description                           <span class="kw">AS</span> TerritoryName,
    <span class="fn">COUNT</span>(<span class="kw">DISTINCT</span> rh.EmployeeID)            <span class="kw">AS</span> ActiveSalesmen,
    <span class="fn">COUNT</span>(<span class="kw">DISTINCT</span> rh.RouteHistoryID)        <span class="kw">AS</span> TotalRouteDays,
    <span class="fn">ISNULL</span>(<span class="fn">SUM</span>(tr.NetTotal), <span class="num">0</span>)             <span class="kw">AS</span> TotalRevenue,
    <span class="fn">ISNULL</span>(<span class="fn">AVG</span>(tr.NetTotal), <span class="num">0</span>)             <span class="kw">AS</span> AvgInvoiceValue
<span class="kw">FROM</span> <span class="tb">RouteHistory</span> rh
    <span class="kw">LEFT JOIN</span> <span class="tb">Territory</span> t   <span class="kw">ON</span> t.TerritoryID  = rh.TerritoryID
    <span class="kw">LEFT JOIN</span> <span class="tb">TerritoryLanguage</span> tl
        <span class="kw">ON</span> tl.TerritoryID = t.TerritoryID <span class="kw">AND</span> tl.LanguageID = <span class="num">1</span>
    <span class="kw">LEFT JOIN</span> <span class="tb">Transaction</span> tr
        <span class="kw">ON</span>  tr.RouteHistoryID    = rh.RouteHistoryID
        <span class="kw">AND</span> tr.TransactionTypeID = <span class="num">1</span>
        <span class="kw">AND</span> tr.Voided            = <span class="num">0</span>
<span class="kw">WHERE</span> <span class="fn">CAST</span>(rh.RouteDate <span class="kw">AS DATE</span>) <span class="kw">BETWEEN</span> <span class="str">'2026-01-01'</span> <span class="kw">AND</span> <span class="str">'2026-12-31'</span>
<span class="kw">GROUP BY</span>
    t.TerritoryCode,
    tl.Description
<span class="kw">ORDER BY</span> <span class="fn">SUM</span>(tr.NetTotal) <span class="kw">DESC</span>;</pre>
        </div>
      </div>
    </div>

    <div class="day-card" id="d15">
      <div class="day-hd" onclick="toggleDay(this)">
        <span class="day-pill">D15</span>
        <span class="day-ttl">The Final Test ‚Äî Three Reports With Zero Help</span>
        <span class="day-dur">~3 hrs</span>
        <span class="day-tog">‚ñæ</span>
      </div>
      <div class="day-body">
        <div class="goal"><span class="goal-tag">Today's Goal</span><span class="goal-txt">Close every guide. Write all 3 reports from memory using the 4-step method. All 3 must run and return sensible data. No partial credit.</span></div>

        <div class="exercise">
          <div class="ex-hd">üèÜ Test 1 ‚Äî Top 10 Customers by Revenue This Month</div>
          <p>Show: CustomerCode, CustomerName (EN), TerritoryCode, TotalRevenue, TotalInvoices ‚Äî ordered by revenue descending ‚Äî for the current calendar month only.</p>
          <div class="hint">Tables: Transaction, CustomerOutlet, Customer, CustomerLanguage, RouteCustomer, Route, Territory, TerritoryLanguage</div>
        </div>

        <div class="exercise">
          <div class="ex-hd">üèÜ Test 2 ‚Äî Outlets With No Route Assignment</div>
          <p>Find all active outlets NOT assigned to any route. Show: CustomerCode, OutletCode, CustomerName (EN). This is a data quality audit query.</p>
          <div class="hint">Which JOIN type leaves NULLs for unmatched rows? Filter the WHERE clause to show only those NULLs.</div>
        </div>

        <div class="exercise">
          <div class="ex-hd">üèÜ Test 3 ‚Äî Salesman Scorecard (Last 30 Days)</div>
          <p>Show per salesman: Name, Territory, TotalPlanned, TotalVisited, TotalSales, VisitRate (%), SalesRate (%), TotalRevenue. Order by revenue descending.</p>
          <div class="hint">Start from RouteHistory. Pre-aggregate visits and revenue in separate subqueries. CAST rates as DECIMAL(5,1).</div>
        </div>

        <div class="milestone">
          <span class="milestone-ico">üèÜ</span>
          <div>
            <strong>Mastery Achieved</strong>
            <p>If you passed all 3 tests without help, you have full comprehension of the SONIC database. You can write any report, debug any query, and understand every line of the playbook. That was the goal.</p>
          </div>
        </div>
      </div>
    </div>

  </div>
</section>

<div class="div"></div>

<!-- QUICK REFERENCE -->
<section id="quickref" style="scroll-margin-top:40px;margin-bottom:80px">
  <div class="sec-label">Always Keep Open</div>
  <div class="sec-heading">Quick Reference</div>
  <p class="sec-sub">Instant answers to the six most common problems.</p>
  <div class="qr-grid">
    <div class="qr">
      <div class="qr-hd"><span class="qr-dot"></span> Wrong territory</div>
      <div class="qr-q">Territory is NULL or incorrect?</div>
      <p class="qr-a">Use the route path: <code>CustomerOutlet ‚Üí RouteCustomer ‚Üí Route ‚Üí Territory</code>. Never use <code>CustOutTerritory</code>.</p>
    </div>
    <div class="qr">
      <div class="qr-hd"><span class="qr-dot"></span> Duplicate rows</div>
      <div class="qr-q">Getting 2√ó more rows than expected?</div>
      <p class="qr-a">Check every Language JOIN has <code>AND LanguageID = 1</code>. Check all composite keys are fully specified in every <code>ON</code>.</p>
    </div>
    <div class="qr">
      <div class="qr-hd"><span class="qr-dot"></span> Too few rows</div>
      <div class="qr-q">Missing rows that should appear?</div>
      <p class="qr-a">Change INNER to LEFT somewhere. Add <code>WHERE [right_table].ID IS NULL</code> to find which JOIN is killing rows.</p>
    </div>
    <div class="qr">
      <div class="qr-hd"><span class="qr-dot"></span> All NULLs</div>
      <div class="qr-q">Columns returning all NULLs?</div>
      <p class="qr-a">Check the <code>ON</code> condition ‚Äî IDs must match. Verify table aliases are correct and referencing the right table.</p>
    </div>
    <div class="qr">
      <div class="qr-hd"><span class="qr-dot"></span> Zero rows</div>
      <div class="qr-q">Query returns nothing at all?</div>
      <p class="qr-a">Run <code>SELECT COUNT(*) FROM [Table]</code> first. If that's zero, the WHERE is too strict. Remove filters one by one.</p>
    </div>
    <div class="qr">
      <div class="qr-hd"><span class="qr-dot"></span> Conversion error</div>
      <div class="qr-q">Conversion failed varchar to int?</div>
      <p class="qr-a">TransactionID is nvarchar. Always quote it: <code>'12345'</code> not <code>12345</code>.</p>
    </div>
  </div>
</section>

<footer class="site-footer">
  SONIC SQL Mastery Path ¬∑ SONICMansourDataNew ¬∑ 1,738 Tables ¬∑ Built for your learning profile
</footer>

</div>
</main>
</div>

<script>
/* ‚îÄ‚îÄ Phase toggle ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
function togglePhase(bar) {
  const isOpen = bar.hasAttribute('open');
  const body = bar.nextElementSibling;
  if (isOpen) { bar.removeAttribute('open'); body.classList.remove('open'); }
  else         { bar.setAttribute('open',''); body.classList.add('open'); }
}

/* ‚îÄ‚îÄ Day toggle ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
function toggleDay(hd) {
  const card = hd.parentElement;
  card.classList.toggle('open');
  updateProgress();
}

/* ‚îÄ‚îÄ Sidebar nav ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
function navPhase(btn, id) {
  const el = document.getElementById(id);
  const wasOpen = el.classList.contains('open');
  el.classList.toggle('open', !wasOpen);
  btn.classList.toggle('active', !wasOpen);
}

function goto(id) {
  const el = document.getElementById(id);
  if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

/* ‚îÄ‚îÄ Copy button ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
function doCopy(btn) {
  const pre = btn.closest('.code-wrap').querySelector('pre');
  navigator.clipboard.writeText(pre.innerText).then(() => {
    btn.textContent = 'Copied!';
    btn.classList.add('ok');
    setTimeout(() => { btn.textContent = 'Copy'; btn.classList.remove('ok'); }, 2000);
  });
}

/* ‚îÄ‚îÄ Progress bar ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
function updateProgress() {
  const total = document.querySelectorAll('.day-card').length;
  const done  = document.querySelectorAll('.day-card.open').length;
  const pct   = Math.round(done / total * 100);
  document.getElementById('progFill').style.width = pct + '%';
  document.getElementById('progPct').textContent  = pct + '%';
  const openCount = document.getElementById('openCount');
  if (openCount) openCount.textContent = `${done}/${total}`;
}

function expandAll() {
  document.querySelectorAll('.day-card').forEach(card => card.classList.add('open'));
  document.querySelectorAll('.phase-bar').forEach(bar => {
    bar.setAttribute('open', '');
    const body = bar.nextElementSibling;
    if (body) body.classList.add('open');
  });
  updateProgress();
}

function applyFilters() {
  const term = (document.getElementById('daySearch')?.value || '').toLowerCase().trim();
  const phase = document.getElementById('phaseFilter')?.value || 'all';

  document.querySelectorAll('.phase-block').forEach(block => {
    const phaseMatches = phase === 'all' || block.classList.contains(phase);
    let visibleDays = 0;

    block.querySelectorAll('.day-card').forEach(card => {
      const text = card.innerText.toLowerCase();
      const matchesSearch = !term || text.includes(term);
      const show = phaseMatches && matchesSearch;
      card.classList.toggle('is-hidden', !show);
      if (show) visibleDays += 1;
    });

    block.classList.toggle('is-hidden', visibleDays === 0);
  });
}

/* ‚îÄ‚îÄ Active nav day on scroll ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
const dayCards = document.querySelectorAll('[id^="d0"],[id^="d1"]');
const navLinks = document.querySelectorAll('.sb-child');

const io = new IntersectionObserver(entries => {
  entries.forEach(e => {
    if (e.isIntersecting) {
      navLinks.forEach(l => l.classList.remove('lit'));
      const a = document.querySelector(`.sb-child[href="#${e.target.id}"]`);
      if (a) a.classList.add('lit');
    }
  });
}, { rootMargin: '-25% 0px -65% 0px' });

dayCards.forEach(el => io.observe(el));

document.getElementById('daySearch')?.addEventListener('input', applyFilters);
document.getElementById('phaseFilter')?.addEventListener('change', applyFilters);

updateProgress();
applyFilters();
</script>
</body>
</html>
